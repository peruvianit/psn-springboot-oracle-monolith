RGraph=window.RGraph||{isRGraph:!0,isRGraphSVG:!0},RGraph.SVG=RGraph.SVG||{},RGraph.SVG.FX=RGraph.SVG.FX||{},function(t,e,a){var n=RGraph,s=navigator.userAgent,o=Math;n.SVG.REG={store:[]},n.SVG.OR={objects:[]},n.SVG.TRIG={},n.SVG.TRIG.HALFPI=.4999*o.PI,n.SVG.TRIG.PI=2*n.SVG.TRIG.HALFPI,n.SVG.TRIG.TWOPI=2*n.SVG.TRIG.PI,n.SVG.ISIE=s.indexOf("rident")>0,n.SVG.ISFF=s.indexOf("irefox")>0,n.SVG.events=[],n.SVG.GLOBALS={},n.SVG.ISFF=-1!=s.indexOf("Firefox"),n.SVG.ISOPERA=-1!=s.indexOf("Opera"),n.SVG.ISCHROME=-1!=s.indexOf("Chrome"),n.SVG.ISSAFARI=-1!=s.indexOf("Safari")&&!n.SVG.ISCHROME,n.SVG.ISWEBKIT=-1!=s.indexOf("WebKit"),n.SVG.ISIE=s.indexOf("Trident")>0||navigator.userAgent.indexOf("MSIE")>0,n.SVG.ISIE6=s.indexOf("MSIE 6")>0,n.SVG.ISIE7=s.indexOf("MSIE 7")>0,n.SVG.ISIE8=s.indexOf("MSIE 8")>0,n.SVG.ISIE9=s.indexOf("MSIE 9")>0,n.SVG.ISIE10=s.indexOf("MSIE 10")>0,n.SVG.ISIE11UP=-1==s.indexOf("MSIE")&&s.indexOf("Trident")>0,n.SVG.ISIE10UP=n.SVG.ISIE10||n.SVG.ISIE11UP,n.SVG.ISIE9UP=n.SVG.ISIE9||n.SVG.ISIE10UP,n.SVG.createSVG=function(t){var a=t.container,r=t.object;if(a.__svg__)return a.__svg__;var i=e.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("style","top: 0; left: 0; position: absolute"),i.setAttribute("width",a.offsetWidth),i.setAttribute("height",a.offsetHeight),i.setAttribute("version","1.1"),i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.__object__=r,i.__container__=a,a.appendChild(i),a.__svg__=i,a.__object__=r;var s=getComputedStyle(a);"absolute"!==s.position&&"fixed"!==s.position&&"sticky"!==s.position&&(a.style.position="relative");for(var o=1;o<=10;++o){var l=n.SVG.create({svg:i,type:"g",attr:{className:"background"+o}});r.layers["background"+o]=l,i["background"+o]=l}l=n.SVG.create({svg:i,type:"g",attr:{className:"all-elements"}});return a.__svg__.all=l,i},n.SVG.createDefs=function(t){if(!t.svg.defs){var e=n.SVG.create({svg:t.svg,type:"defs"});t.svg.defs=e}return e},n.SVG.create=function(t){var a=e.createElementNS("http://www.w3.org/2000/svg",t.type);for(var r in t.attr)if("string"==typeof r){var i=r;"className"===r&&(i="class"),"a"!==t.type&&"image"!==t.type||"xlink:href"!==r?(n.SVG.isNull(t.attr[r])&&(t.attr[r]=""),a.setAttribute(i,String(t.attr[r]))):a.setAttributeNS("http://www.w3.org/1999/xlink",r,String(t.attr[r]))}for(var r in t.style)"string"==typeof r&&(a.style[r]=String(t.style[r]));return t.parent?t.parent.appendChild(a):t.svg.appendChild(a),a},n.SVG.getMouseXY=function(t){if(t.target){var e,a,r=t.target;if(void 0!==r.offsetParent)do{r.offsetLeft,r.offsetTop}while(r=r.offsetParent);return e=t.pageX,a=t.pageY,[e-=2*(parseInt(document.body.style.borderLeftWidth)||0),a-=2*(parseInt(document.body.style.borderTopWidth)||0)]}},n.SVG.drawXAxis=function(t){var e=t.properties;if(e.xaxis){var a="hbar"===t.type?t.height-e.marginBottom:t.getYCoord(t.scale.min<0&&t.scale.max<0?t.scale.max:t.scale.min>0&&t.scale.max>0?t.scale.min:0);n.SVG.create({svg:t.svg,parent:t.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(e.marginLeft,a,t.width-e.marginRight,a),fill:e.xaxisColor,stroke:e.xaxisColor,"stroke-width":"number"==typeof e.xaxisLinewidth?e.xaxisLinewidth:1,"shape-rendering":"crispEdges","stroke-linecap":"square"}});if("hbar"===t.type){t.graphWidth,t.data.length;var r=e.marginLeft,i=t.height-e.marginBottom,s=t.height-e.marginBottom+e.xaxisTickmarksLength}else{t.graphWidth,t.data.length,r=e.marginLeft,i=t.getYCoord(0)-(e.yaxisScaleMin<0?e.xaxisTickmarksLength:0),s=t.getYCoord(0)+e.xaxisTickmarksLength;t.scale.min<0&&t.scale.max<=0&&(i=e.marginTop,s=e.marginTop-e.xaxisTickmarksLength),t.scale.min>0&&t.scale.max>0&&(i=t.getYCoord(t.scale.min),s=t.getYCoord(t.scale.min)+e.xaxisTickmarksLength)}if(e.xaxisTickmarks){if(e.xaxisScale)for(var o=0;o<("number"==typeof e.xaxisLabelsPositionEdgeTickmarksCount?e.xaxisLabelsPositionEdgeTickmarksCount:t.scale.numlabels+(e.yaxis&&0===e.xaxisScaleMin?0:1));++o){if("hbar"===t.type)var l=t.data.length;if(r=e.marginLeft+(o+(e.yaxis&&0===e.xaxisScaleMin?1:0))*(t.graphWidth/t.scale.numlabels),"number"==typeof e.xaxisLabelsPositionEdgeTickmarksCount)l=e.xaxisLabelsPositionEdgeTickmarksCount,r=(d=t.graphWidth/e.xaxisLabelsPositionEdgeTickmarksCount)*o+e.marginLeft+d;n.SVG.create({svg:t.svg,parent:t.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(r,i,r,s),stroke:e.xaxisColor,"stroke-width":"number"==typeof e.xaxisLinewidth?e.xaxisLinewidth:1,"shape-rendering":"crispEdges"}})}else if("section"===e.xaxisLabelsPosition){if("bar"===t.type||"waterfall"===t.type)l=t.data.length;else if("line"===t.type)l=t.data[0].length;else if("scatter"===t.type)l=e.xaxisLabels?e.xaxisLabels.length:10;"number"==typeof e.xaxisLabelsPositionSectionTickmarksCount&&(l=e.xaxisLabelsPositionSectionTickmarksCount);for(o=0;o<l;++o)r=e.marginLeft+(e.marginInnerLeft||0)+(o+1)*((t.graphWidth-(e.marginInnerLeft||0)-(e.marginInnerRight||0))/l),n.SVG.create({svg:t.svg,parent:t.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(r+.001,i,r,s),stroke:e.xaxisColor,"stroke-width":"number"==typeof e.xaxisLinewidth?e.xaxisLinewidth:1,"shape-rendering":"crispEdges"}})}else if("edge"===e.xaxisLabelsPosition){if("number"==typeof e.xaxisLabelsPositionEdgeTickmarksCount)var g=e.xaxisLabelsPositionEdgeTickmarksCount;else g=t.data&&t.data[0]&&t.data[0].length?t.data[0].length:0;for(o=0;o<g;++o){var d=t.graphWidth/(g-1);r=e.marginLeft+(o+1)*d;n.SVG.create({svg:t.svg,parent:t.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(r+.001,i,r,s),stroke:e.xaxisColor,"stroke-width":"number"==typeof e.xaxisLinewidth?e.xaxisLinewidth:1,"shape-rendering":"crispEdges"}})}}(!1===e.yaxis||(e.marginInnerLeft||0)>0)&&n.SVG.create({svg:t.svg,parent:t.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(e.marginLeft+(e.marginInnerLeft||0)+.001,i,e.marginLeft+(e.marginInnerLeft||0),s),stroke:t.properties.xaxisColor,"stroke-width":"number"==typeof e.xaxisLinewidth?e.xaxisLinewidth:1,"shape-rendering":"crispEdges",parent:t.svg.all}})}}if(e.xaxisScale)if("scatter"===t.type){t.xscale=n.SVG.getScale({object:t,numlabels:e.xaxisLabelsCount,unitsPre:e.xaxisScaleUnitsPre,unitsPost:e.xaxisScaleUnitsPost,max:e.xaxisScaleMax,min:e.xaxisScaleMin,point:e.xaxisScalePoint,round:e.xaxisScaleRound,thousand:e.xaxisScaleThousand,decimals:e.xaxisScaleDecimals,strict:"number"==typeof e.xaxisScaleMax,formatter:e.xaxisScaleFormatter});var c=t.graphWidth/e.xaxisLabelsCount;for(o=0;o<t.xscale.labels.length;++o){r=e.marginLeft+c*o+c+e.xaxisLabelsOffsetx,a=t.height-e.marginBottom+(e.xaxis?e.xaxisTickmarksLength+6:10)+(e.xaxisLinewidth||1)+e.xaxisLabelsOffsety;n.SVG.text({object:t,parent:t.svg.all,text:t.xscale.labels[o],x:r,y:a,halign:"center",valign:"top",tag:"labels.xaxis",font:e.xaxisLabelsFont||e.textFont,size:"number"==typeof e.xaxisLabelsSize?e.xaxisLabelsSize:e.textSize,bold:"boolean"==typeof e.xaxisLabelsBold?e.xaxisLabelsBold:e.textBold,italic:"boolean"==typeof e.xaxisLabelsItalic?e.xaxisLabelsItalic:e.textItalic,color:e.xaxisLabelsColor||e.textColor})}if(e.xaxisLabelsCount>0){a=t.height-e.marginBottom+e.xaxisLabelsOffsety+(e.xaxis?e.xaxisTickmarksLength+6:10);var f=n.SVG.numberFormat({object:t,num:e.xaxisScaleMin.toFixed(e.xaxisScaleDecimals),prepend:e.xaxisScaleUnitsPre,append:e.xaxisScaleUnitsPost,point:e.xaxisScalePoint,thousand:e.xaxisScaleThousand,formatter:e.xaxisScaleFormatter});n.SVG.text({object:t,parent:t.svg.all,text:"function"==typeof e.xaxisScaleFormatter?e.xaxisScaleFormatter(this,e.xaxisScaleMin):f,x:e.marginLeft+e.xaxisLabelsOffsetx,y:a,halign:"center",valign:"top",tag:"labels.xaxis",font:e.xaxisLabelsFont||e.textFont,size:"number"==typeof e.xaxisLabelsSize?e.xaxisLabelsSize:e.textSize,bold:"number"==typeof e.xaxisLabelsBold?e.xaxisLabelsBold:e.textBold,italic:"boolean"==typeof e.xaxisLabelsItalic?e.xaxisLabelsItalic:e.textItalic,color:e.xaxisLabelsColor||e.textColor})}}else{c=t.graphWidth/e.xaxisLabelsCount;var p=t.scale;for(o=0;o<p.labels.length;++o){r=e.marginLeft+c*o+c+e.xaxisLabelsOffsetx,a=t.height-e.marginBottom+(e.xaxis?e.xaxisTickmarksLength+6:10)+(e.xaxisLinewidth||1)+e.xaxisLabelsOffsety;n.SVG.text({object:t,parent:t.svg.all,text:t.scale.labels[o],x:r,y:a,halign:"center",valign:"top",tag:"labels.xaxis",font:e.xaxisLabelsFont||e.textFont,size:"number"==typeof e.xaxisLabelsSize?e.xaxisLabelsSize:e.textSize,bold:"boolean"==typeof e.xaxisLabelsBold?e.xaxisLabelsBold:e.textBold,italic:"boolean"==typeof e.xaxisLabelsItalic?e.xaxisLabelsItalic:e.textItalic,color:e.xaxisLabelsColor||e.textColor})}if(e.xaxisLabelsCount>0)a=t.height-e.marginBottom+e.xaxisLabelsOffsety+(e.xaxis?e.xaxisTickmarksLength+6:10),f=n.SVG.numberFormat({object:t,num:e.xaxisScaleMin.toFixed(e.xaxisScaleDecimals),prepend:e.xaxisScaleUnitsPre,append:e.xaxisScaleUnitsPost,point:e.xaxisScalePoint,thousand:e.xaxisScaleThousand,formatter:e.xaxisScaleFormatter}),n.SVG.text({object:t,parent:t.svg.all,text:"function"==typeof e.xaxisScaleFormatter?e.xaxisScaleFormatter(this,e.xaxisScaleMin):f,x:e.marginLeft+e.xaxisLabelsOffsetx,y:a,halign:"center",valign:"top",tag:"labels.xaxis",font:e.xaxisLabelsFont||e.textFont,size:"number"==typeof e.xaxisLabelsSize?e.xaxisLabelsSize:e.textSize,bold:"boolean"==typeof e.xaxisLabelsBold?e.xaxisLabelsBold:e.textBold,italic:"boolean"==typeof e.xaxisLabelsItalic?e.xaxisLabelsItalic:e.textItalic,color:e.xaxisLabelsColor||e.textColor})}else if("object"==typeof e.xaxisLabels&&!n.SVG.isNull(e.xaxisLabels)){var x=e.xaxisLabelsAngle;if("section"===e.xaxisLabelsPosition)for(c=(t.width-e.marginLeft-e.marginRight-(e.marginInnerLeft||0)-(e.marginInnerRight||0))/e.xaxisLabels.length,o=0;o<e.xaxisLabels.length;++o){r=e.marginLeft+(e.marginInnerLeft||0)+c/2+o*c;if(t.scale.max<=0&&t.scale.min<t.scale.max){a=e.marginTop-(n.SVG.ISFF?5:10)-(e.xaxisLinewidth||1)+e.xaxisLabelsOffsety;var h="bottom"}else a=t.height-e.marginBottom+(n.SVG.ISFF?5:10)+(e.xaxisLinewidth||1)+e.xaxisLabelsOffsety,h="top";n.SVG.text({object:t,parent:t.svg.all,text:e.xaxisLabels[o],x:r+e.xaxisLabelsOffsetx,y:a,valign:"number"==typeof x&&x?"center":h,halign:"number"==typeof x&&x?"right":"center",angle:x,tag:"labels.xaxis",size:"number"==typeof e.xaxisLabelsSize?e.xaxisLabelsSize:e.textSize,italic:"boolean"==typeof e.xaxisLabelsItalic?e.xaxisLabelsItalic:e.textItalic,font:e.xaxisLabelsFont||e.textFont,bold:"boolean"==typeof e.xaxisLabelsBold?e.xaxisLabelsBold:e.textBold,color:e.xaxisLabelsColor||e.textColor})}else if("edge"===e.xaxisLabelsPosition){if("line"===t.type)var u=e.marginInner;else u=0;for(c=(t.graphWidth-u-u)/(e.xaxisLabels.length-1),o=0;o<e.xaxisLabels.length;++o){r=e.marginLeft+o*c+u;t.scale.max<=0&&t.scale.min<0?(h="bottom",a=e.marginTop-(n.SVG.ISFF?5:10)-(e.xaxisTickmarksLength-5)-(e.xaxisLinewidth||1)+e.xaxisLabelsOffsety):(h="top",a=t.height-e.marginBottom+(n.SVG.ISFF?5:10)+(e.xaxisTickmarksLength-5)+(e.xaxisLinewidth||1)+e.xaxisLabelsOffsety),n.SVG.text({object:t,parent:t.svg.all,text:e.xaxisLabels[o],x:r+e.xaxisLabelsOffsetx,y:a,valign:"number"==typeof x&&x?"center":h,halign:"number"==typeof x&&x?"right":"center",angle:x,tag:"labels.xaxis",size:"number"==typeof e.xaxisLabelsSize?e.xaxisLabelsSize:e.textSize,italic:"boolean"==typeof e.xaxisLabelsItalic?e.xaxisLabelsItalic:e.textItalic,font:e.xaxisLabelsFont||e.textFont,bold:"boolean"==typeof e.xaxisLabelsBold?e.xaxisLabelsBold:e.textBold,color:e.xaxisLabelsColor||e.textColor})}}}},n.SVG.drawYAxis=function(t){var e=t.properties;if(e.yaxis){if("hbar"===t.type){var a=t.getXCoord(e.xaxisScaleMin>0?e.xaxisScaleMin:0);e.xaxisScaleMin<0&&e.xaxisScaleMax<=0&&(a=t.getXCoord(e.xaxisScaleMax))}else a=e.marginLeft;n.SVG.create({svg:t.svg,parent:t.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(a,e.marginTop,a,t.height-e.marginBottom),stroke:e.yaxisColor,fill:e.yaxisColor,"stroke-width":"number"==typeof e.yaxisLinewidth?e.yaxisLinewidth:1,"shape-rendering":"crispEdges","stroke-linecap":"square"}});if("hbar"===t.type){var r=(t.graphHeight-e.marginInnerTop-e.marginInnerBottom)/e.yaxisLabels.length,i=e.marginTop+e.marginInnerTop,s=e.yaxisLabels.length,l=t.getXCoord(0)+(e.xaxisScaleMin<0?e.yaxisTickmarksLength:0),g=t.getXCoord(0)-e.yaxisTickmarksLength;if(e.xaxisScaleMin<0&&e.xaxisScaleMax<=0&&(l=t.getXCoord(e.xaxisScaleMax),g=t.getXCoord(e.xaxisScaleMax)+5),"number"==typeof e.yaxisLabelsPositionSectionTickmarksCount&&(s=e.yaxisLabelsPositionSectionTickmarksCount,r=(t.graphHeight-e.marginInnerTop-e.marginInnerBottom)/s),e.yaxisTickmarks){for(var d=0;d<s;++d){n.SVG.create({svg:t.svg,parent:t.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(l,i,g,i+.001),stroke:e.yaxisColor,"stroke-width":"number"==typeof e.yaxisLinewidth?e.yaxisLinewidth:1,"shape-rendering":"crispEdges"}});i+=r}if(!1===e.xaxis){if("hbar"===t.type&&e.xaxisScaleMin<=0&&e.xaxisScaleMax<0)l=t.getXCoord(e.xaxisScaleMax),g=t.getXCoord(e.xaxisScaleMax)+e.yaxisTickmarksLength;else l=t.getXCoord(0)-e.yaxisTickmarksLength,g=t.getXCoord(0)+(e.xaxisScaleMin<0?e.yaxisTickmarksLength:0);n.SVG.create({svg:t.svg,parent:t.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(l,o.round(t.height-e.marginBottom-parseFloat(e.marginInnerBottom)),g,o.round(t.height-e.marginBottom-parseFloat(e.marginInnerBottom))),stroke:t.properties.yaxisColor,"stroke-width":"number"==typeof e.yaxisLinewidth?e.yaxisLinewidth:1,"shape-rendering":"crispEdges"}})}}}else{r=t.graphHeight/e.yaxisLabelsCount,i=e.marginTop,s=e.yaxisLabelsCount,l=e.marginLeft,g=e.marginLeft-e.yaxisTickmarksLength;if("number"==typeof e.yaxisLabelsPositionEdgeTickmarksCount&&(s=e.yaxisLabelsPositionEdgeTickmarksCount,r=t.graphHeight/s),e.yaxisTickmarks){for(d=0;d<s;++d){n.SVG.create({svg:t.svg,parent:t.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(l,i,g,i),stroke:e.yaxisColor,"stroke-width":"number"==typeof e.yaxisLinewidth?e.yaxisLinewidth:1,"shape-rendering":"crispEdges"}});i+=r}if((0!==e.yaxisScaleMin||!1===e.xaxis||t.mirrorScale)&&!(t.scale.min>0&&t.scale.max>0))n.SVG.create({svg:t.svg,parent:t.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(e.marginLeft-e.yaxisTickmarksLength,t.height-e.marginBottom,e.marginLeft,t.height-e.marginBottom-.001),stroke:e.yaxisColor,"stroke-width":"number"==typeof e.yaxisLinewidth?e.yaxisLinewidth:1,"shape-rendering":"crispEdges"}})}}}if(e.yaxisScale){var c=(t.height-e.marginTop-e.marginBottom)/e.yaxisLabelsCount;for(d=0;d<t.scale.labels.length;++d){i=t.height-e.marginBottom-c*d-c;n.SVG.text({object:t,parent:t.svg.all,text:t.scale.labels[d],x:e.marginLeft-7-(e.yaxis?e.yaxisTickmarksLength-3:0)+e.yaxisLabelsOffsetx,y:i+e.yaxisLabelsOffsety,halign:e.yaxisLabelsHalign||"right",valign:e.yaxisLabelsValign||"center",tag:"labels.yaxis",font:e.yaxisLabelsFont||e.textFont,size:"number"==typeof e.yaxisLabelsSize?e.yaxisLabelsSize:e.textSize,bold:"boolean"==typeof e.yaxisLabelsBold?e.yaxisLabelsBold:e.textBold,italic:"boolean"==typeof e.yaxisLabelsItalic?e.yaxisLabelsItalic:e.textItalic,color:e.yaxisLabelsColor||e.textColor})}i=t.height-e.marginBottom;var f=e.yaxisScaleUnitsPre+t.scale.min.toFixed(e.yaxisScaleDecimals).replace(/\./,e.yaxisScalePoint)+e.yaxisScaleUnitsPost;n.SVG.text({object:t,parent:t.svg.all,text:"function"==typeof e.yaxisScaleFormatter?e.yaxisScaleFormatter(this,e.yaxisScaleMin):f,x:e.marginLeft-7-(e.yaxis?e.yaxisTickmarksLength-3:0)+e.yaxisLabelsOffsetx,y:i+e.yaxisLabelsOffsety,halign:"right",valign:"center",tag:"labels.yaxis",font:e.yaxisLabelsFont||e.textFont,size:"number"==typeof e.yaxisLabelsSize?e.yaxisLabelsSize:e.textSize,bold:"boolean"==typeof e.yaxisLabelsBold?e.yaxisLabelsBold:e.textBold,italic:"boolean"==typeof e.yaxisLabelsItalic?e.yaxisLabelsItalic:e.textItalic,color:e.yaxisLabelsColor||e.textColor})}else if(e.yaxisLabels&&e.yaxisLabels.length)for(d=0;d<e.yaxisLabels.length;++d){c=(t.graphHeight-(e.marginInnerTop||0)-(e.marginInnerBottom||0))/e.yaxisLabels.length,i=e.marginTop+(e.marginInnerTop||0)+c*d+c/2+e.yaxisLabelsOffsety,a=e.marginLeft-7-(e.yaxisLinewidth||1)+e.yaxisLabelsOffsetx;var p="right";if("hbar"===t.type&&t.scale.min<t.scale.max&&t.scale.max<=0)p="left",a=t.width-e.marginRight+7+e.yaxisLabelsOffsetx;else if("hbar"!==t.type||e.yaxisLabelsSpecific){c=(t.graphHeight-(e.marginInnerTop||0)-(e.marginInnerBottom||0))/(e.yaxisLabels.length-1);i=t.height-e.marginBottom-c*d+e.yaxisLabelsOffsety}else{var c=(t.graphHeight-(e.marginInnerTop||0)-(e.marginInnerBottom||0))/e.yaxisLabels.length;i=e.marginTop+(e.marginInnerTop||0)+c*d+c/2+e.yaxisLabelsOffsety}n.SVG.text({object:t,parent:t.svg.all,text:e.yaxisLabels[d]?e.yaxisLabels[d]:"",x:a,y:i,halign:p,valign:"center",tag:"labels.yaxis",font:e.yaxisLabelsFont||e.textFont,size:"number"==typeof e.yaxisLabelsSize?e.yaxisLabelsSize:e.textSize,bold:"boolean"==typeof e.yaxisLabelsBold?e.yaxisLabelsBold:e.textBold,italic:"boolean"==typeof e.yaxisLabelsItalic?e.yaxisLabelsItalic:e.textItalic,color:e.yaxisLabelsColor||e.textColor})}},n.SVG.drawBackground=function(t){var e=t.properties;if("number"!=typeof e.variant3dOffsetx&&(e.variant3dOffsetx=0),"number"!=typeof e.variant3dOffsety&&(e.variant3dOffsety=0),e.backgroundColor&&n.SVG.create({svg:t.svg,parent:t.svg.all,type:"rect",attr:{x:-1+e.variant3dOffsetx+e.marginLeft,y:-1-e.variant3dOffsety+e.marginTop,width:parseFloat(t.svg.getAttribute("width"))+2-e.marginLeft-e.marginRight,height:parseFloat(t.svg.getAttribute("height"))+2-e.marginTop-e.marginBottom,fill:e.backgroundColor}}),e.backgroundImage){var a={"xlink:href":e.backgroundImage,preserveAspectRatio:e.backgroundImageAspect||"none",x:e.marginLeft,y:e.marginTop};e.backgroundImageStretch?(a.x=e.marginLeft+e.variant3dOffsetx,a.y=e.marginTop+e.variant3dOffsety,a.width=t.width-e.marginLeft-e.marginRight,a.height=t.height-e.marginTop-e.marginBottom):("number"==typeof e.backgroundImageX?a.x=e.backgroundImageX+e.variant3dOffsetx:a.x=e.marginLeft+e.variant3dOffsetx,"number"==typeof e.backgroundImageY?a.y=e.backgroundImageY+e.variant3dOffsety:a.y=e.marginTop+e.variant3dOffsety,"number"==typeof e.backgroundImageW&&(a.width=e.backgroundImageW),"number"==typeof e.backgroundImageH&&(a.height=e.backgroundImageH)),"3d"===e.variant&&(a.x+=e.variant3dOffsetx,a.y-=e.variant3dOffsety);var r=n.SVG.create({svg:t.svg,parent:t.svg.all,type:"image",attr:a,style:{opacity:"number"==typeof e.backgroundImageOpacity?e.backgroundImageOpacity:1}});if(!e.backgroundImageStretch){var i=new Image;i.src=e.backgroundImage,i.onload=function(){"number"===e.backgroundImageW&&r.setAttribute("width",e.backgroundImageW),"number"===e.backgroundImageH&&r.setAttribute("height",e.backgroundImageH)}}}if(e.backgroundGrid){var s,o=[];if(e.backgroundGridHlines){if("number"==typeof e.backgroundGridHlinesCount)var l=e.backgroundGridHlinesCount;else if("hbar"===t.type||"bipolar"===t.type){if("object"==typeof e.yaxisLabels&&!n.SVG.isNull(e.yaxisLabels)&&e.yaxisLabels.length)l=e.yaxisLabels.length;else if("hbar"===t.type)l=t.data.length;else if("bipolar"===t.type)l=t.left.length}else l=e.yaxisLabelsCount||5;for(var g=0;g<=l;++g)o.push("M{1} {2} L{3} {4}".format(e.marginLeft+e.variant3dOffsetx,e.marginTop+t.graphHeight/l*g-e.variant3dOffsety,t.width-e.marginRight+e.variant3dOffsetx,e.marginTop+t.graphHeight/l*g-e.variant3dOffsety));o.push("M{1} {2} L{3} {4}".format(e.marginLeft+e.variant3dOffsetx,t.height-e.marginBottom-e.variant3dOffsety,t.width-e.marginRight+e.variant3dOffsetx,t.height-e.marginBottom-e.variant3dOffsety))}if(e.backgroundGridVlines){if("line"===t.type&&n.SVG.isArray(t.data[0]))var d=t.data[0].length;else if("hbar"===t.type)d=e.xaxisLabelsCount||10;else if("bipolar"===t.type)d=e.xaxisLabelsCount||10;else if("scatter"===t.type)d=e.xaxisLabels&&e.xaxisLabels.length||10;else if("waterfall"===t.type)d=t.data.length;else d=t.data.length;l="number"==typeof e.backgroundGridVlinesCount?e.backgroundGridVlinesCount:d;"edge"===e.xaxisLabelsPosition&&l--;for(g=0;g<=l;++g)o.push("M{1} {2} L{3} {4}".format(e.marginLeft+t.graphWidth/l*g+e.variant3dOffsetx,e.marginTop-e.variant3dOffsety,e.marginLeft+t.graphWidth/l*g+e.variant3dOffsetx,t.height-e.marginBottom-e.variant3dOffsety))}e.backgroundGridBorder&&o.push("M{1} {2} L{3} {4} L{5} {6} L{7} {8} z".format(e.marginLeft+e.variant3dOffsetx,e.marginTop-e.variant3dOffsety,t.width-e.marginRight+e.variant3dOffsetx,e.marginTop-e.variant3dOffsety,t.width-e.marginRight+e.variant3dOffsetx,t.height-e.marginBottom-e.variant3dOffsety,e.marginLeft+e.variant3dOffsetx,t.height-e.marginBottom-e.variant3dOffsety)),s=e.backgroundGridDashed?[3,5]:e.backgroundGridDotted?[1,3]:e.backgroundGridDashArray?e.backgroundGridDashArray:"";n.SVG.create({svg:t.svg,parent:t.svg.all,type:"path",attr:{className:"rgraph_background_grid",d:o.join(" "),stroke:e.backgroundGridColor,fill:"rgba(0,0,0,0)","stroke-width":e.backgroundGridLinewidth,"shape-rendering":"crispEdges","stroke-dasharray":s},style:{pointerEvents:"none"}})}"bipolar"!==t.type&&n.SVG.drawTitle(t)},n.SVG.isNull=function(t){return null==t||"object"==typeof t&&!t},n.SVG.getScale=function(t){var e=t.object,a=e.properties,r=t.numlabels,i=t.unitsPre,s=t.unitsPost,l=Number(t.max),g=Number(t.min),d=t.strict,c=Number(t.decimals),f=t.point,p=t.thousand,x=l,h=t.round,u={max:1,labels:[],values:[]},b=t.formatter;if(0===l&&0===g){l=1;for(var y=0;y<r;++y){var m=((l-g)/r*(y+1)+g).toFixed(c);u.labels.push(i+m+s),u.values.push(parseFloat(m))}}else if(l<=1&&!d){var S=[1,.5,.1,.05,.01,.005,.001,5e-4,1e-4,5e-5,1e-5,5e-6,1e-6,5e-7,1e-7,5e-8,1e-8,5e-9,1e-9,5e-10,1e-10,5e-11,1e-11,5e-12,1e-12,5e-13];for(y=0;y<S.length;++y)if(l>S[y]){y--;break}u.max=S[y],u.labels=[],u.values=[];for(var G=0;G<r;++G){var v=((S[y]-g)/r*(G+1)+g).toFixed(c);u.values.push(v),u.labels.push(n.SVG.numberFormat({object:e,num:v,prepend:i,append:s,point:a.yaxisScalePoint,thousand:a.yaxisScaleThousand,formatter:b}))}}else if(d){if("number"==typeof l&&d){for(y=0;y<r;++y)u.labels.push(n.SVG.numberFormat({object:e,formatter:b,num:((y+1)/r*(l-g)+g).toFixed(c),prepend:i,append:s,point:f,thousand:p})),u.values.push(((y+1)/r*(l-g)+g).toFixed(c));u.max=l}}else{l=o.ceil(l);for(var V=o.pow(10,o.max(1,Number(String(Number(l)-Number(g)).length-1))),L=V;L<l;)L+=V/2;Number(x)>Number(L)&&(L+=V/2),l<=10&&(L=Number(x)<=5?5:10),e&&"boolean"==typeof h&&h&&(L=10*V),u.max=L;for(var y=0;y<r;++y){m=n.SVG.numberFormat({object:e,num:((y+1)/r*(L-g)+g).toFixed(c),prepend:i,append:s,point:f,thousand:p,formatter:b});u.labels.push(m),u.values.push(((y+1)/r*(L-g)+g).toFixed(c))}}u.unitsPre=i,u.unitsPost=s,u.point=f,u.decimals=c,u.thousand=p,u.numlabels=r,u.round=Boolean(h),u.min=g;for(y=0;y<u.values.length;++y)u.values[y]=parseFloat(u.values[y]);return u},n.SVG.arrayFill=n.SVG.arrayPad=function(t){var e=t.array,a=t.length,r=void 0===t.value?null:t.value;if(e.length<a)for(var i=e.length;i<a;i+=1)e[i]=r;return e},n.SVG.arraySum=function(t){if("number"==typeof t)return t;if(n.SVG.isNull(t))return 0;var e,a,r=t.length;for(e=0,a=0;e<r;a+=t[e++]);return a},n.SVG.arrayMax=function(t){var e=null;if("number"==typeof t)return t;if(n.SVG.isNull(t))return 0;for(var a=0,r=t.length;a<r;++a)if("number"==typeof t[a]){var i=arguments[1]?o.abs(t[a]):t[a];e="number"==typeof e?o.max(e,i):i}return e},n.SVG.arrayMin=function(t){var e=null,a=Math;if("number"==typeof t)return t;if(n.SVG.isNull(t))return 0;for(var r=0,i=t.length;r<i;++r)if("number"==typeof t[r]){var s=arguments[1]?a.abs(t[r]):t[r];e="number"==typeof e?a.min(e,s):s}return e},n.SVG.arrayPad=function(t,e){if(t.length<e)for(var a=arguments[2]?arguments[2]:null,r=t.length;r<e;r+=1)t[r]=a;return t},n.SVG.arraySum=function(t){if("number"==typeof t)return t;if(n.SVG.isNull(t))return 0;var e,a,r=t.length;for(e=0,a=0;e<r;a+=t[e++]);return a},n.SVG.arrayLinearize=function(){for(var t=[],e=arguments,a=0,r=e.length;a<r;++a)if("object"==typeof e[a]&&e[a])for(var i=0,s=e[a].length;i<s;++i)for(var o=n.SVG.arrayLinearize(e[a][i]),l=0,g=o.length;l<g;++l)t.push(o[l]);else t.push(e[a]);return t},n.SVG.arrayShift=function(t){for(var e=[],a=1,r=t.length;a<r;++a)e.push(t[a]);return e},n.SVG.arrayReverse=function(t){if(t){for(var e=[],a=t.length-1;a>=0;a-=1)e.push(t[a]);return e}},n.SVG.arrayClone=function(t){if(null===t||"object"!=typeof t)return t;if(n.SVG.isArray(t))for(var e=[],a=0,r=t.length;a<r;++a)"number"==typeof t[a]?e[a]=(i=t[a],Number(i)):"string"==typeof t[a]?e[a]=function(t){return String(t)}(t[a]):"function"==typeof t[a]?e[a]=t[a]:e[a]=n.SVG.arrayClone(t[a]);else if("object"==typeof t){e={};for(var a in t)"string"==typeof a&&(e[a]=t[a])}var i;return e},n.SVG.arrayInvert=function(t){for(var e=0,a=t.length;e<a;++e)t[e]=!t[e];return t},n.SVG.arrayTrim=function(t){for(var e=[],a=!1,r=0;r<t.length;r++)t[r]&&(a=!0),a&&e.push(t[r]);e=n.SVG.arrayReverse(e);var i=[];for(a=!1,r=0;r<e.length;r++)e[r]&&(a=!0),a&&i.push(e[r]);return i=n.SVG.arrayReverse(i)},n.SVG.isArray=function(t){if(!t||!t.constructor)return!1;var e=t.constructor.toString().indexOf("Array");return null!=t&&"number"==typeof e&&e>0&&e<20},n.SVG.abs=function(t){if("string"==typeof t&&(t=parseFloat(t)||0),"number"==typeof t)return o.abs(t);if("object"==typeof t){for(i in t)"string"!=typeof i&&"number"!=typeof i&&"object"!=typeof i||(t[i]=n.SVG.abs(t[i]));return t}return 0},n.SVG.numberFormat=function(t){var e=t.object,a=t.prepend?String(t.prepend):"",r=t.append?String(t.append):"",n="",s="string"==typeof t.point?t.point:".",o="string"==typeof t.thousand?t.thousand:",",l=t.num;if(decimals_trim=t.decimals_trim,RegExp.$1="","function"==typeof t.formatter)return t.formatter(e,l);if(String(l).indexOf("e")>0)return String(a+String(l)+r);if((l=String(l)).indexOf(".")>0){var g=l;l=l.replace(/\.(.*)/,""),decimal=g.replace(/(.*)\.(.*)/,"$2")}else decimal="";var d=o;for(i=l.length-1,j=0;i>=0;j++,i--){var c=l.charAt(i);j%3==0&&0!=j&&(n+=d),n+=c}var f=n;for(n="",i=f.length-1;i>=0;i--)n+=f.charAt(i);return 0==n.indexOf("-"+o)&&(n="-"+n.substr(("-"+o).length)),decimal.length&&(n=n+s+decimal,decimal="",RegExp.$1=""),decimals_trim&&(n=(n=n.replace(/0+$/,"")).replace(/\.$/,"")),"-"==n.charAt(0)&&(n=n.replace(/-/,""),a="-"+a),a+n+r},n.SVG.text=function(t){for(var e in n.SVG.text.defaults)"string"==typeof e&&void 0===t[e]&&(t[e]=n.SVG.text.defaults[e]);var a=t.object,r=t.parent||t.object.svg.all,i="number"==typeof t.size?t.size+"pt":("string"==typeof t.size?t.size.replace(/pt$/,""):12)+"pt",s=t.bold?"bold":"normal",o=t.font?t.font:"sans-serif",l=t.italic?"italic":"normal",g=t.halign,d=t.valign,c=t.text,f=t.x,p=t.y,x=t.color?t.color:"black",h=t.background||null,u=t.backgroundRounded||0,b=t.padding||0,y=t.link||"",m=t.linkTarget||"_blank",S=!1!==t.events,G=t.angle;if("number"==typeof c&&(c=String(c)),n.SVG.isNull(c)&&(c=""),(c&&"\r\n"==c.substr(0,2)||"\n"===c.substr(0,1))&&(c="Â "+c),g="right"===g?"end":"center"===g||"middle"===g?"middle":"start","top"===d?d="hanging":"center"===d||"middle"===d?(d="central",d="middle"):d="bottom",y)var v=RGraph.SVG.create({svg:a.svg,type:"a",parent:r,attr:{"xlink:href":y,target:m}});if(c&&c.indexOf&&-1===c.indexOf("\n")){var V=n.SVG.create({svg:a.svg,parent:y?v:t.parent,type:"text",attr:{tag:t.tag?t.tag:"",fill:x,x:f,y:p,"font-size":i,"font-weight":s,"font-family":o,"font-style":l,"text-anchor":g,"dominant-baseline":d}}),L=document.createTextNode(c);V.appendChild(L),S||(V.style.pointerEvents="none")}else if(c&&c.indexOf){var I=(w=n.SVG.measureText({text:"My",bold:s,font:o,size:i}))[1];c=c.split(/\r?\n/),"bottom"===d&&(p-=c.length*I),"center"!==d&&"middle"!==d||(p-=c.length*I/2);V=n.SVG.create({svg:a.svg,parent:y?v:t.parent,type:"text",attr:{tag:t.tag?t.tag:"",fill:x,x:f,y:p,"font-size":i,"font-weight":s,"font-family":o,"font-style":l,"text-anchor":g,"dominant-baseline":d}});S||(V.style.pointerEvents="none");for(e=0;e<c.length;++e){var k=n.SVG.create({svg:a.svg,parent:V,type:"tspan",attr:{x:f,dy:w?w[1]*(e?1:0)+3:0}});L=document.createTextNode(c[e]);k.appendChild(L),S||(k.style.pointerEvents="none");var w=n.SVG.measureText({text:c[e],bold:s,font:o,size:parseInt(i)})}}if("number"==typeof G&&G&&V&&(V.setAttribute("x",0),V.setAttribute("y",0),V.setAttribute("transform","translate({1} {2}) rotate({3})".format(f,p,-1*G))),"string"==typeof h){r=y?v:r;var R=V.getBBox(),C=n.SVG.create({svg:a.svg,parent:r,type:"rect",attr:{x:R.x-b,y:R.y-b,width:R.width+2*b,height:R.height+2*b,fill:h,rx:u,ry:u}});S||(C.style.pointerEvents="none"),V.parentNode.insertBefore(C,V)}return n.SVG.ISIE&&"hanging"===d&&V?V.setAttribute("y",p+V.scrollHeight/2):n.SVG.ISIE&&"middle"===d&&V.setAttribute("y",p+V.scrollHeight/3),n.SVG.ISFF&&V&&(Y=p+V.scrollHeight/3),V},n.SVG.text.defaults={},n.SVG.text.find=function(t){if("object"==typeof t.object&&t.object.isRGraph)var e=t.object.svg;else if("object"==typeof t.svg&&t.svg.all){e=t.svg;t.object=e.__object__}for(var a=e.getElementsByTagName("text"),r=[],i=0,n=a.length;i<n;++i){var s=!1,o=!1;"string"==typeof t.text&&a[i].innerHTML===t.text?s=!0:"object"==typeof t.text&&a[i].innerHTML.match(t.text)?s=!0:void 0===t.text&&(s=!0),"string"==typeof t.tag&&a[i].getAttribute("tag")===t.tag?o=!0:"object"==typeof t.tag&&a[i].getAttribute("tag").match(t.tag)?o=!0:void 0===t.tag&&(o=!0),!0===s&&!0===o&&r.push(a[i])}return"function"==typeof t.callback&&t.callback({nodes:r,object:t.object}),r},n.SVG.createUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*o.random()|0;return("x"==t?e:3&e|8).toString(16)}))},n.SVG.isFixed=function(t){for(var e=t.parentNode;e&&"body"!=e.tagName.toLowerCase();){if("fixed"===e.style.position)return e;e=e.offsetParent}return!1},n.SVG.REG.set=function(t,e){return n.SVG.REG.store[t]=e,e},n.SVG.REG.get=function(t){return n.SVG.REG.store[t]},n.SVG.trim=function(t){return n.SVG.ltrim(n.SVG.rtrim(t))},n.SVG.ltrim=function(t){return t.replace(/^(\s|\0)+/,"")},n.SVG.rtrim=function(t){return t.replace(/(\s|\0)+$/,"")},n.SVG.hideTooltip=function(){var t=n.SVG.REG.get("tooltip");t&&t.parentNode&&(t.parentNode.removeChild(t),t.style.display="none",t.style.visibility="hidden",n.SVG.REG.set("tooltip",null)),t&&t.__object__&&n.SVG.removeHighlight(t.__object__)},n.SVG.setShadow=function(t){var e=t.object,a=t.offsetx||0,r=t.offsety||0,i=t.blur||0,s=t.opacity||0,o=t.id,l=n.SVG.create({svg:e.svg,parent:e.svg.defs,type:"filter",attr:{id:o,width:"130%",height:"130%"}});n.SVG.create({svg:e.svg,parent:l,type:"feOffset",attr:{result:"offOut","in":"SourceGraphic",dx:a,dy:r}}),n.SVG.create({svg:e.svg,parent:l,type:"feColorMatrix",attr:{result:"matrixOut","in":"offOut",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 {1} 0".format(s)}}),n.SVG.create({svg:e.svg,parent:l,type:"feGaussianBlur",attr:{result:"blurOut","in":"matrixOut",stdDeviation:i}}),n.SVG.create({svg:e.svg,parent:l,type:"feBlend",attr:{"in":"SourceGraphic","in2":"blurOut",mode:"normal"}})},n.SVG.sequentialIndexToGrouped=function(t,e){for(var a=0,r=0;--t>=0;)n.SVG.isNull(e[a])?(a++,r=0):"number"!=typeof e[a]?++r>=e[a].length&&(a++,r=0):(a++,r=0);return[a,r]},n.SVG.groupedIndexToSequential=function(t){for(var e=t.dataset,a=t.index,r=t.object,i=0,n=0;i<=e;++i)for(var s=0;s<r.data[e].length;++s){if(i===e&&s===a)return n;n++}return n},n.SVG.arrayLinearize=function(){for(var t=[],e=arguments,a=0,r=e.length;a<r;++a)if("object"==typeof e[a]&&e[a])for(var i=0,s=e[a].length;i<s;++i)for(var o=n.SVG.arrayLinearize(e[a][i]),l=0,g=o.length;l<g;++l)t.push(o[l]);else t.push(e[a]);return t},n.SVG.TRIG.toCartesian=function(t){return{x:t.cx+t.r*o.cos(t.angle),y:t.cy+t.r*o.sin(t.angle)}},n.SVG.TRIG.getHypLength=function(t){var e=Math.abs(t.x2-t.x1);return v=Math.abs(t.y2-t.y1),r=Math.sqrt(e*e+v*v),r},n.SVG.TRIG.getAngleByXY=function(t){var e=t.cx,a=t.cy,r=t.x,i=t.y,s=o.atan((i-a)/(r-e));return r>=e&&i>=a?s+=n.SVG.TRIG.HALFPI:r>=e&&i<a?s+=n.SVG.TRIG.HALFPI:s=s+n.SVG.TRIG.PI+n.SVG.TRIG.HALFPI,s},n.SVG.TRIG.getArcPath=function(t){t.start-=1.57,t.end-=1.57;var e=n.SVG.TRIG.toCartesian({cx:t.cx,cy:t.cy,r:t.r,angle:t.start}),a=n.SVG.TRIG.toCartesian({cx:t.cx,cy:t.cy,r:t.r,angle:t.end}),r=t.end-t.start,i="0",s="0";if(t.anticlockwise&&r>3.14?(i="0",s="0"):t.anticlockwise&&r<=3.14?(i="1",s="0"):!t.anticlockwise&&r>3.14?(i="1",s="1"):!t.anticlockwise&&r<=3.14&&(i="0",s="1"),t.start>t.end&&t.anticlockwise&&r<=3.14&&(i="0",s="0"),t.start>t.end&&t.anticlockwise&&r>3.14&&(i="1",s="1"),"boolean"==typeof t.moveto&&!1===t.moveto)var o=["A",t.r,t.r,0,i,s,a.x,a.y];else o=["M",e.x,e.y,"A",t.r,t.r,0,i,s,a.x,a.y];return!0===t.array?o:o.join(" ")},n.SVG.TRIG.getArcPath2=function(t){t.start-=1.57,t.end-=1.57;var e=n.SVG.TRIG.toCartesian({cx:t.cx,cy:t.cy,r:t.r,angle:t.start}),a=n.SVG.TRIG.toCartesian({cx:t.cx,cy:t.cy,r:t.r,angle:t.end}),r=o.abs(t.end-t.start),i="0",s="0";if(t.anticlockwise?r>n.SVG.TRIG.PI?(i="1",s="0"):(i="0",s="0"):r>n.SVG.TRIG.PI?(i="1",s="1"):(i="0",s="1"),"boolean"==typeof t.lineto&&!1===t.lineto)var l=["M",e.x,e.y,"A",t.r,t.r,0,i,s,a.x,a.y];else l=["M",t.cx,t.cy,"L",e.x,e.y,"A",t.r,t.r,0,i,s,a.x,a.y];return!0===t.array?l:l.join(" ")},n.SVG.TRIG.getArcPath3=function(t){t.cx=Number(t.cx),t.cy=Number(t.cy),t.radius=Number(t.radius),t.start=Number(t.start),t.end=Number(t.end),t.start-=o.PI/2,t.end-=o.PI/2;var e=n.SVG.TRIG.toCartesian({cx:t.cx,cy:t.cy,r:t.r,angle:t.start}),a=n.SVG.TRIG.toCartesian({cx:t.cx,cy:t.cy,r:t.r,angle:t.end}),r=o.abs(t.end-t.start),i="0",s="0";if(t.anticlockwise?r>n.SVG.TRIG.PI?(i="1",s="0"):(i="0",s="0"):r>n.SVG.TRIG.PI?(i="1",s="1"):(i="0",s="1"),"boolean"==typeof t.lineto&&!1===t.lineto)var l=["M",e.x,e.y,"A",t.r,t.r,0,i,s,a.x,a.y];else l=["L",e.x,e.y,"A",t.r,t.r,0,i,s,a.x,a.y];return!0===t.array?l:l.join(" ")},n.SVG.TRIG.getRadiusEndPoint=function(t){if(1===arguments.length)var e=t.angle,a=t.r;else if(4===arguments.length)e=arguments[0],a=arguments[1];var r=o.cos(e)*a,i=o.sin(e)*a;return[r,i]},n.SVG.drawTitle=function(t){var e=t.properties,a=(t.width-e.marginLeft-e.marginRight)/2+e.marginLeft,r=e.marginTop-10,i="bottom";(n.SVG.isNull(t.properties.key)||(r-=20),"number"==typeof t.properties.yaxisScaleMax&&t.properties.yaxisScaleMax<=0&&t.properties.yaxisScaleMin<t.properties.yaxisScaleMax&&(i="top",r=t.height-t.properties.marginBottom+10),"number"==typeof e.titleX&&(a=e.titleX),"number"==typeof e.titleY&&(r=e.titleY),"number"==typeof e.titleOffsetx&&(a+=e.titleOffsetx),"number"==typeof e.titleOffsety&&(r+=e.titleOffsety),"string"==typeof e.titleSubtitle||"number"==typeof e.titleSubtitle)&&(r-=n.SVG.measureText({bold:e.titleSubtitleBold,italic:e.titleSubtitleItalic,size:e.titleSubtitleSize,font:e.titleSubtitleFont,text:"Mg"})[1]);e.title&&n.SVG.text({object:t,svg:t.svg,parent:t.svg.all,tag:"title",text:e.title.toString(),x:a,y:r,halign:e.titleHalign||"center",valign:i,color:e.titleColor||e.textColor,size:"number"==typeof e.titleSize?e.titleSize:e.textSize+4,bold:"boolean"==typeof e.titleBold?e.titleBold:e.textBold,italic:"boolean"==typeof e.titleItalic?e.titleItalic:e.textItalic,font:e.titleFont||e.textFont}),"string"!=typeof e.title&&"number"!=typeof e.title||"string"!=typeof e.titleSubtitle&&"number"!=typeof e.titleSubtitle||n.SVG.text({object:t,svg:t.svg,parent:t.svg.all,tag:"subtitle",text:e.titleSubtitle,x:a,y:r+5,halign:e.titleHalign||"center",valign:"top",size:"number"==typeof e.titleSubtitleSize?e.titleSubtitleSize:e.textSize-2,color:e.titleSubtitleColor||e.textColor,bold:"boolean"==typeof e.titleSubtitleBold?e.titleSubtitleBold:e.textBold,italic:"boolean"==typeof e.titleSubtitleItalic?e.titleSubtitleItalic:e.textItalic,font:e.titleSubtitleFont||e.textFont})},n.SVG.trim=function(t){return n.SVG.ltrim(n.SVG.rtrim(t))},n.SVG.ltrim=function(t){return String(t).replace(/^(\s|\0)+/,"")},n.SVG.rtrim=function(t){return String(t).replace(/(\s|\0)+$/,"")},n.SVG.parseColorLinear=function(t){var e=t.object,a=t.color;if(!a||"string"!=typeof a)return a;if(a.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),i=1/(r.length-1);if(t&&t.direction&&"horizontal"===t.direction)var s=n.SVG.create({type:"linearGradient",parent:e.svg.defs,attr:{id:"RGraph-linear-gradient-"+e.uid+"-"+e.gradientCounter,x1:t.start||0,x2:t.end||"100%",y1:0,y2:0,gradientUnits:t.gradientUnits||"userSpaceOnUse"}});else s=n.SVG.create({type:"linearGradient",parent:e.svg.defs,attr:{id:"RGraph-linear-gradient-"+e.uid+"-"+e.gradientCounter,x1:0,x2:0,y1:t.start||0,y2:t.end||"100%",gradientUnits:t.gradientUnits||"userSpaceOnUse"}});n.SVG.create({type:"stop",parent:s,attr:{offset:"0%","stop-color":n.SVG.trim(r[0])}});for(var o=1,l=r.length;o<l;++o)n.SVG.create({type:"stop",parent:s,attr:{offset:o*i*100+"%","stop-color":n.SVG.trim(r[o])}})}return a=s?"url(#RGraph-linear-gradient-"+e.uid+"-"+e.gradientCounter+++")":a},n.SVG.parseColorRadial=function(t){var e=t.object,a=t.color;if(!a||"string"!=typeof a)return a;if(a.match(/^gradient\((.*)\)$/i))for(var r=RegExp.$1.split(":"),i=1/(r.length-1),s=n.SVG.create({type:"radialGradient",parent:e.svg.defs,attr:{id:"RGraph-radial-gradient-"+e.uid+"-"+e.gradientCounter,gradientUnits:t.gradientUnits||"userSpaceOnUse",cx:t.cx||e.centerx,cy:t.cy||e.centery,fx:t.fx||e.centerx,fy:t.fy||e.centery,r:t.r||e.radius}}),o=(n.SVG.create({type:"stop",parent:s,attr:{offset:"0%","stop-color":n.SVG.trim(r[0])}}),1),l=r.length;o<l;++o)n.SVG.create({type:"stop",parent:s,attr:{offset:o*i*100+"%","stop-color":n.SVG.trim(r[o])}});return a=s?"url(#RGraph-radial-gradient-"+e.uid+"-"+e.gradientCounter+++")":a},n.SVG.resetColorsToOriginalValues=function(t){var e=t.object;if(e.originalColors)for(var a in e.originalColors)"string"==typeof a&&(e.properties[a]=n.SVG.arrayClone(e.originalColors[a]));"function"==typeof e.resetColorsToOriginalValues&&e.resetColorsToOriginalValues(),e.originalColors={},e.colorsParsed=!1,e.gradientCounter=1},n.SVG.clear=function(t){for(var e=1;e<=100&&t["background"+e];++e)for(;t["background"+e].lastChild;)t["background"+e].removeChild(t["background"+e].lastChild);for(;t.all.lastChild;)t.all.removeChild(t.all.lastChild);if(t.all.line_tooltip_hotspots)for(;t.all.line_tooltip_hotspots.lastChild;)t.all.line_tooltip_hotspots.removeChild(t.all.line_tooltip_hotspots.lastChild)},n.SVG.addCustomEventListener=function(t,e,a){return void 0===n.SVG.events[t.uid]&&(n.SVG.events[t.uid]=[]),"on"!==e.substr(0,2)&&(e="on"+e),n.SVG.events[t.uid].push({object:t,event:e,func:a}),n.SVG.events[t.uid].length-1},n.SVG.fireCustomEvent=function(t,e){if(t&&t.isRGraph){var a=t.uid;if("string"==typeof a&&"object"==typeof n.SVG.events&&"object"==typeof n.SVG.events[a]&&n.SVG.events[a].length>0)for(var r=0,i=n.SVG.events[a].length;r<i;++r)n.SVG.events[a][r]&&n.SVG.events[a][r].event===e&&n.SVG.events[a][r].func(t)}},n.SVG.removeAllCustomEventListeners=function(){var t=arguments[0];t&&n.SVG.events[t]?n.SVG.events[t]={}:n.SVG.events=[]},n.SVG.removeCustomEventListener=function(t,e){"object"==typeof n.SVG.events&&"object"==typeof n.SVG.events[t.uid]&&"object"==typeof n.SVG.events[t.uid][e]&&(n.SVG.events[t.uid][e]=null)},n.SVG.removeHighlight=function(t){var e=n.SVG.REG.get("highlight");if(e&&n.SVG.isArray(e)&&e.length)for(var a=0,r=e.length;a<r;++a)e[a].parentNode&&e[a].parentNode.removeChild(e[a]);else e&&e.parentNode&&("scatter"===t.type?e.setAttribute("fill","transparent"):e.parentNode.removeChild(e))},n.SVG.redraw=function(){if(1===arguments.length){var t=arguments[0];n.SVG.clear(t);for(var e=n.SVG.OR.get("id:"+t.parentNode.id),a=0,r=e.length;a<r;++a)n.SVG.resetColorsToOriginalValues({object:e[a]}),e[a].draw()}else{var i=n.SVG.OR.tags();for(var a in i)n.SVG.redraw(i[a])}},n.SVG.parseDate=function(t){for(var e=new Date,a={seconds:"00",minutes:"00",hours:"00",date:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()},r=["january","february","march","april","may","june","july","august","september","october","november","december"],i=r.join("|"),n=0;n<r.length;++n)r[r[n]]=n,r[r[n].substring(0,3)]=n,i=i+"|"+r[n].substring(0,3);for(var s="[-./_=+~#:;,]+",o=t.split(/ +/),l=(n=0,o.length);n<l;++n)if(o[n]){o[n].match(/^\d\d\d\d$/)&&(a.year=o[n]);var g=d(o[n]);"number"==typeof g&&(a.month=g+1),o[n].match(/^\d?\d(?:st|nd|rd|th)?$/)&&(a.date=parseInt(o[n])),o[n].match(/^(\d\d):(\d\d):?(?:(\d\d))?$/)&&(a.hours=parseInt(RegExp.$1),a.minutes=parseInt(RegExp.$2),RegExp.$3&&(a.seconds=parseInt(RegExp.$3))),o[n].match(new RegExp("^(\\d\\d\\d\\d)"+s+"(\\d\\d)"+s+"(\\d\\d)$","i"))&&(a.date=parseInt(RegExp.$3),a.month=parseInt(RegExp.$2),a.year=parseInt(RegExp.$1)),o[n].match(new RegExp("^(\\d\\d)"+s+"(\\d\\d)"+s+"(\\d\\d\\d\\d)$","i"))&&(a.date=parseInt(RegExp.$1),a.month=parseInt(RegExp.$2),a.year=parseInt(RegExp.$3))}return t="{1}/{2}/{3} {4}:{5}:{6}".format(a.year,1===String(a.month).length?"0"+a.month:a.month,1===String(a.date).length?"0"+a.date:a.date,1===String(a.hours).length?"0"+a.hours:a.hours,1===String(a.minutes).length?"0"+a.minutes:a.minutes,1===String(a.seconds).length?"0"+a.seconds:a.seconds),Date.parse(t);function d(t){var e=t.toLowerCase().match(i);return!!e&&r[e[0]]}},n.SVG.OR.add=function(t){return n.SVG.OR.objects.push(t),t},n.SVG.OR.get=function(){if("string"==typeof arguments[0]&&"id:"===arguments[0].substr(0,3).toLowerCase()){for(var t=[],e=0;e<n.SVG.OR.objects.length;++e)n.SVG.OR.objects[e].id===arguments[0].substr(3)&&t.push(n.SVG.OR.objects[e]);return t}if("string"==typeof arguments[0]&&"type"===arguments[0].substr(0,4).toLowerCase()){for(t=[],e=0;e<n.SVG.OR.objects.length;++e)n.SVG.OR.objects[e].type===arguments[0].substr(5)&&t.push(n.SVG.OR.objects[e]);return t}if("string"==typeof arguments[0]&&"uid"===arguments[0].substr(0,3).toLowerCase()){for(t=[],e=0;e<n.SVG.OR.objects.length;++e)n.SVG.OR.objects[e].uid===arguments[0].substr(4)&&t.push(n.SVG.OR.objects[e]);return t}return n.SVG.OR.objects},n.SVG.OR.tags=function(){for(var t=[],e=0;e<n.SVG.OR.objects.length;++e)t[n.SVG.OR.objects[e].svg.parentNode.id]||(t[n.SVG.OR.objects[e].svg.parentNode.id]=n.SVG.OR.objects[e].svg);return t},n.SVG.getSVGXY=function(t){var e=0,a=0,r=t.parentNode;do{e+=r.offsetLeft,a+=r.offsetTop,"table"==r.tagName.toLowerCase()&&(n.SVG.ISCHROME||n.SVG.ISSAFARI)&&(e+=parseInt(r.border)||0,a+=parseInt(r.border)||0),r=r.offsetParent}while(r&&r.tagName&&"body"!=r.tagName.toLowerCase());var i=t.style.paddingLeft?parseInt(t.style.paddingLeft):0,s=t.style.paddingTop?parseInt(t.style.paddingTop):0,o=t.style.borderLeftWidth?parseInt(t.style.borderLeftWidth):0,l=t.style.borderTopWidth?parseInt(t.style.borderTopWidth):0;return navigator.userAgent.indexOf("Firefox")>0&&(e+=parseInt(document.body.style.borderLeftWidth)||0,a+=parseInt(document.body.style.borderTopWidth)||0),[e+i+o,a+s+l]},n.SVG.FX.update=function(e){t.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){setTimeout(t,16.666)},t.requestAnimationFrame(e)},n.SVG.FX.getEasingMultiplier=function(t,e){return o.pow(o.sin(e/t*n.SVG.TRIG.HALFPI),3)},n.SVG.measureText=function(t){var e=t.text||"",a=t.bold||!1,r=t.italic||!1,i=t.font||"sans-serif",s=t.size||12,o=e+":"+r+":"+a+":"+i+":"+s;if(void 0===n.SVG.measuretext_cache&&(n.SVG.measuretext_cache=[]),!1!==t.cache&&"object"==typeof n.SVG.measuretext_cache&&n.SVG.measuretext_cache[o])return n.SVG.measuretext_cache[o];if(n.SVG.measuretext_cache["text-span"]&&!1!==t.cache){if(n.SVG.measuretext_cache["text-span"])var l=n.SVG.measuretext_cache["text-span"]}else(l=document.createElement("SPAN")).style.position="absolute",l.style.padding=0,l.style.display="inline",l.style.top="-200px",l.style.left="-200px",l.style.lineHeight="1em",document.body.appendChild(l),n.SVG.measuretext_cache["text-span"]=l;l.innerHTML=e.replace(/\r?\n/g,"<br />"),l.style.fontFamily=i,l.style.fontWeight=a?"bold":"normal",l.style.fontStyle=r?"italic":"normal",l.style.fontSize=String(s).replace(/pt$/,"")+"pt";var g=[l.offsetWidth,l.offsetHeight];return n.SVG.measuretext_cache[o]=g,g},n.SVG.stringsToNumbers=function(t){var e=arguments[1]||",";if("number"==typeof t)return t;if("string"==typeof t&&(t=-1!=t.indexOf(e)?t.split(e):parseFloat(t)),"object"==typeof t)for(var a=0,r=t.length;a<r;a+=1)t[a]=parseFloat(t[a]);return t},n.SVG.getAdjustedNumber=function(t){var e=t.value;return"string"==typeof t.prop&&match(/^(\+|-)([0-9.]+)/)&&("+"===RegExp.$1?e+=parseFloat(RegExp.$2):"-"===RegExp.$1&&(e-=parseFloat(RegExp.$2))),e},n.SVG.attribution=function(){},n.SVG.parseGradient=function(t){},n.SVG.random=function(t){var e=t.min,a=t.max,r=t.dp||t.decimals||0,i=o.random();return Number(((a-e)*i+e).toFixed(r))},n.SVG.arrayRand=n.SVG.arrayRandom=n.SVG.random.array=function(t){for(var e=t.num,a=t.min,r=t.max,i=t.dp||t.decimals||0,s=0,o=[];s<e;s+=1)o.push(n.SVG.random({min:a,max:r,dp:i}));return o},n.SVG.commonSetter=function(t){t.object;var e=t.name,a=t.value;return"tooltipsEvent"===e&&"click"!==a&&"mousemove"!==a&&(a="click"),{name:e,value:a}},n.SVG.log=function(t){var e=t.num,a=t.base;return o.log(e)/(a?o.log(a):1)},n.SVG.donut=function(t){var e=n.SVG.TRIG.getArcPath3({cx:t.cx,cy:t.cy,r:t.outerRadius,start:0,end:n.SVG.TRIG.TWOPI,anticlockwise:!1,lineto:!1}),a=n.SVG.TRIG.getArcPath3({cx:t.cx,cy:t.cy,r:t.innerRadius,start:n.SVG.TRIG.TWOPI,end:0,anticlockwise:!0,lineto:!1});return n.SVG.create({svg:t.svg,type:"path",attr:{d:e+a,stroke:t.stroke,fill:t.fill}})},n.SVG.getGlobals=function(t){t.properties;for(i in n.SVG.GLOBALS)"string"==typeof i&&t.set(i,n.SVG.arrayClone(n.SVG.GLOBALS[i]))},n.SVG.link=function(t){var e=RGraph.SVG.create({svg:bar.svg,type:"a",parent:bar.svg.all,attr:{"xlink:href":href,target:target}}),a=RGraph.SVG.create({svg:bar.svg,type:"text",parent:e,attr:{x:x,y:y,fill:fill}});a.innerHTML=a},n.SVG.getErrorbarsMaxValue=function(t){var e=t.object.properties,a=t.index;if("object"!=typeof e.errorbars||n.SVG.isNull(e.errorbars)||"number"!=typeof e.errorbars[a])if("object"!=typeof e.errorbars||n.SVG.isNull(e.errorbars)||"object"!=typeof e.errorbars[a]||n.SVG.isNull(e.errorbars[a])||"number"!=typeof e.errorbars[a].max)r=0;else var r=e.errorbars[a].max;else var r=e.errorbars[a];return r},n.SVG.getErrorbarsMinValue=function(t){var e=t.object.properties,a=t.index;if("object"!=typeof e.errorbars||n.SVG.isNull(e.errorbars)||"object"!=typeof e.errorbars[a]||n.SVG.isNull(e.errorbars[a])||"number"!=typeof e.errorbars[a].min)r=null;else var r=e.errorbars[a].min;return r},n.SVG.getErrorbarsColor=function(t){var e=t.object.properties,a=t.index,r=e.errorbarsColor||"black";return"object"!=typeof e.errorbars||n.SVG.isNull(e.errorbars)||"object"!=typeof e.errorbars[a]||n.SVG.isNull(e.errorbars[a])||"string"!=typeof e.errorbars[a].color||(r=e.errorbars[a].color),r},n.SVG.getErrorbarsLinewidth=function(t){var e=t.object.properties,a=t.index,r=e.errorbarsLinewidth||1;return"object"!=typeof e.errorbars||n.SVG.isNull(e.errorbars)||"object"!=typeof e.errorbars[a]||n.SVG.isNull(e.errorbars[a])||"number"!=typeof e.errorbars[a].linewidth||(r=e.errorbars[a].linewidth),r},n.SVG.getErrorbarsCapWidth=function(t){var e=t.object.properties,a=t.index,r=e.errorbarsCapwidth||10;return"object"!=typeof e.errorbars||n.SVG.isNull(e.errorbars)||"object"!=typeof e.errorbars[a]||n.SVG.isNull(e.errorbars[a])||"number"!=typeof e.errorbars[a].capwidth||(r=e.errorbars[a].capwidth),r},n.SVG.propertyNameAlias=function(t){var e=t.object;if("string"==typeof e.propertyNameAliases[t.name])return{name:e.propertyNameAliases[t.name],value:t.value};if("function"==typeof e.propertyNameAliases[t.name]){var a=e.propertyNameAliases[t.name](t);return{name:a.name,value:a.value}}return{name:t.name,value:t.value}},"function"!=typeof n.SVG.tooltip&&(n.SVG.tooltip=function(){$a("The tooltip library has not been included!")})}(window,document),window.$p=function(t){var e=arguments[2]?arguments[2]:"    ",a="",r="number"==typeof arguments[3]?arguments[3]:0;if(r>=5)return"";switch(typeof t){case"string":a+=t+" ("+typeof t+", "+t.length+")";break;case"number":case"boolean":a+=t+" ("+typeof t+")";break;case"function":a+="function () {}";break;case"undefined":a+="undefined";break;case"null":a+="null";break;case"object":if(RGraph.SVG.isNull(t))a+=e+"null\n";else{for(j in a+=e+"Object {\n",t)a+=e+"    "+j+" => "+window.$p(t[j],!0,e+"    ",r+1)+"\n";a+=e+"}"}break;default:a+="Unknown type: "+typeof t}return arguments[1]||alert(a),a},window.$a=function(t){alert(t)},window.$cl=function(t){return console.log(t)},String.prototype.format||(String.prototype.format=function(){var t=arguments,e=this.replace(/{(\d+)}/g,(function(e,a){return void 0!==t[a-1]?t[a-1]:e}));return e.replace(/%(\d+)/g,(function(e,a){return void 0!==t[a-1]?t[a-1]:e}))}),RGraph=window.RGraph||{isRGraph:!0,isRGraphSVG:!0},RGraph.SVG=RGraph.SVG||{},function(t,e,a){var r=RGraph;navigator.userAgent,Math;r.SVG.tooltips={},r.SVG.tooltips.style={display:"inline-block",position:"absolute",padding:"6px",fontFamily:"Arial",fontSize:"12pt",fontWeight:"normal",textAlign:"center",left:0,top:0,backgroundColor:"rgb(255,255,239)",color:"black",visibility:"visible",zIndex:3,borderRadius:"5px",boxShadow:"rgba(96,96,96,0.5) 0 0 5px",transition:"left ease-out .25s, top ease-out .25s"},r.SVG.tooltip=function(t){var e=t.object;if(r.SVG.fireCustomEvent(e,"onbeforetooltip"),t.text&&void 0!==t.text&&0!==r.SVG.trim(t.text).length){var a=e.properties;if("function"==typeof a.tooltipsOverride)return document.body.addEventListener("mouseup",(function(t){e.removeHighlight()}),!1),a.tooltipsOverride(e,t);if(r.SVG.REG.get("tooltip")){(i=r.SVG.REG.get("tooltip")).__object__.removeHighlight(),i.style.width=""}else{var i=document.createElement("DIV");for(var n in i.className=a.tooltipsCssClass,r.SVG.tooltips.style)"string"==typeof n&&(i.style[n]=r.SVG.tooltips.style[n])}r.SVG.REG.get("tooltip-lasty")&&(i.style.left=r.SVG.REG.get("tooltip-lastx")+"px",i.style.top=r.SVG.REG.get("tooltip-lasty")+"px"),i.innerHTML=t.text,i.__text__=t.text,i.id="__rgraph_tooltip_"+e.id+"_"+e.uid+"_"+t.index,i.__event__=a.tooltipsEvent||"click",i.__object__=e,"number"==typeof t.index&&(i.__index__=t.index),"number"==typeof t.dataset&&(i.__dataset__=t.dataset),("number"==typeof t.group||r.SVG.isNull(t.group))&&(i.__group__=t.group),"number"==typeof t.sequentialIndex&&(i.__sequentialIndex__=t.sequentialIndex),document.body.appendChild(i);var s=i.offsetWidth,o=i.offsetHeight;if(i.style.left=t.event.pageX-s/2+"px",i.style.top=t.event.pageY-o-15+"px",i.style.width=s+"px",!r.SVG.REG.get("tooltip-lastx"))for(n=0;n<=30;++n)!function(t){setTimeout((function(){i.style.opacity=t/30*1}),t/30*200)}(n);if(parseFloat(i.style.left)<=5&&(i.style.left="5px"),parseFloat(i.style.left)+parseFloat(i.style.width)>window.innerWidth&&(i.style.left="",i.style.right="5px"),r.SVG.isFixed(e.svg)){var l=window.scrollY||document.documentElement.scrollTop;i.style.position="fixed",i.style.top=t.event.pageY-l-o-10+"px"}i.onmousedown=function(t){t.stopPropagation()},i.onmouseup=function(t){t.stopPropagation()},i.onclick=function(t){0==t.button&&t.stopPropagation()},document.body.addEventListener("mouseup",(function(t){r.SVG.hideTooltip()}),!1),r.SVG.REG.set("tooltip",i),r.SVG.REG.set("tooltip-lastx",parseFloat(i.style.left)),r.SVG.REG.set("tooltip-lasty",parseFloat(i.style.top)),r.SVG.fireCustomEvent(e,"ontooltip")}}}(window,document),RGraph=window.RGraph||{isRGraph:!0},RGraph.SVG=RGraph.SVG||{},function(t,e,a){var r=RGraph,n=(navigator.userAgent,Math);window,document;r.SVG.Pie=function(t){this.set=function(t,e){if(1===arguments.length&&"object"==typeof t)for(i in arguments[0])"string"==typeof i&&(t=a.name,e=a.value,this.set(t,e));else{var a=r.SVG.commonSetter({object:this,name:t,value:e});t=a.name,e=a.value,this.properties[t]=e,"colors"===t&&(this.originalColors=r.SVG.arrayClone(e),this.colorsParsed=!1)}return this},this.get=function(t){return this.properties[t]},this.id=t.id,this.uid=r.SVG.createUID(),this.container=document.getElementById(this.id),this.layers={},this.svg=r.SVG.createSVG({object:this,container:this.container}),this.isRGraph=!0,this.width=Number(this.svg.getAttribute("width")),this.height=Number(this.svg.getAttribute("height")),this.data=t.data,this.type="pie",this.angles=[],this.colorsParsed=!1,this.originalColors={},this.gradientCounter=1,this.nodes=[],this.shadowNodes=[],this.propertyNameAliases={},r.SVG.OR.add(this),this.container.style.display="inline-block",this.properties={centerx:null,centery:null,radius:null,marginLeft:35,marginRight:35,marginTop:35,marginBottom:35,colors:["#f66","#6f6","#66f","#ff6","#6ff","#ccc","pink","orange","cyan","maroon","olive","teal"],colorsStroke:"rgba(0,0,0,0)",textColor:"black",textFont:"Arial, Verdana, sans-serif",textSize:12,textBold:!1,textItalic:!1,labels:[],labelsSticks:!0,labelsSticksHlength:50,linewidth:1,tooltips:null,tooltipsOverride:null,tooltipsEffect:"fade",tooltipsCssClass:"RGraph_tooltip",tooltipsEvent:"click",highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",highlightLinewidth:1,highlightStyle:"normal",highlightStyleOutlineWidth:7,title:"",titleX:null,titleY:null,titleHalign:"center",titleValign:null,titleSize:null,titleColor:null,titleFont:null,titleBold:null,titleItalic:null,titleSubtitle:null,titleSubtitleX:null,titleSubtitleY:null,titleSubtitleHalign:"center",titleSubtitleValign:null,titleSubtitleSize:null,titleSubtitleColor:"#aaa",titleSubtitleFont:null,titleSubtitleBold:null,titleSubtitleItalic:null,shadow:!1,shadowOffsetx:2,shadowOffsety:2,shadowBlur:2,shadowOpacity:.25,exploded:0,roundRobinMultiplier:1,donut:!1,donutWidth:75,key:null,keyColors:null,keyOffsetx:0,keyOffsety:0,keyLabelsOffsetx:0,keyLabelsOffsety:-1,keyLabelsColor:null,keyLabelsFont:null,keyLabelsSize:null,keyLabelsBold:null,keyLabelsItalic:null},r.SVG.getGlobals(this),r.SVG.FX&&"function"==typeof r.SVG.FX.decorate&&r.SVG.FX.decorate(this);var e=this.properties;for(i in this.draw=function(){if(r.SVG.fireCustomEvent(this,"onbeforedraw"),this.angles=[],this.width=Number(this.svg.getAttribute("width")),this.height=Number(this.svg.getAttribute("height")),r.SVG.createDefs(this),this.graphWidth=this.width-e.marginLeft-e.marginRight,this.graphHeight=this.height-e.marginTop-e.marginBottom,this.centerx=this.graphWidth/2+e.marginLeft,this.centery=this.graphHeight/2+e.marginTop,this.radius=n.min(this.graphWidth,this.graphHeight)/2,this.centerx="number"==typeof e.centerx?e.centerx:this.centerx,this.centery="number"==typeof e.centery?e.centery:this.centery,this.radius="number"==typeof e.radius?e.radius:this.radius,"string"==typeof e.radius&&e.radius.match(/^\+|-\d+$/)&&(this.radius+=parseFloat(e.radius)),"string"==typeof e.centerx&&e.centerx.match(/^\+|-\d+$/)&&(this.centerx+=parseFloat(e.centerx)),"string"==typeof e.centery&&e.centery.match(/^\+|-\d+$/)&&(this.centery+=parseFloat(e.centery)),r.SVG.resetColorsToOriginalValues({object:this}),this.parseColors(),this.max=r.SVG.arrayMax(this.data),this.total=r.SVG.arraySum(this.data),"number"==typeof e.exploded&&e.exploded>0){var t=e.exploded;e.exploded=[];for(var a=0;a<this.data.length;++a)e.exploded[a]=t}this.drawSegments({shadow:!0}),r.SVG.drawTitle(this),e.labelsSticks?this.drawLabelsSticks():this.drawLabels(),this.drawIngraphLabels(),null!==typeof e.key&&r.SVG.drawKey?r.SVG.drawKey(this):RGraph.SVG.isNull(e.key)||alert("The drawKey() function does not exist - have you forgotten to include the key library?");var i=this;return document.body.addEventListener("mousedown",(function(t){r.SVG.removeHighlight(i)}),!1),r.SVG.fireCustomEvent(this,"ondraw"),this},this.drawSegments=function(t){for(var a=0,i=0,n=0,s=r.SVG.arraySum(this.data),o=0,l=0,g=this.data.length;l<g;++l){var d=this.data[l]*e.roundRobinMultiplier;i=(a=n)+(o=d/s*r.SVG.TRIG.TWOPI);var c=r.SVG.TRIG.getRadiusEndPoint({angle:a+o/2,r:e.exploded[l]}),f=c[1],p=c[0];this.angles[l]={start:a,end:i,angle:i-a,halfway:(i-a)/2+a,cx:this.centerx+(parseFloat(f)||0),cy:this.centery-(parseFloat(p)||0),radius:this.radius,object:this},n+=i-a}t.shadow&&r.SVG.setShadow({object:this,offsetx:e.shadowOffsetx,offsety:e.shadowOffsety,blur:e.shadowBlur,opacity:e.shadowOpacity,id:"dropShadow"});for(l=0;l<this.angles.length;++l){var x=r.SVG.TRIG.getArcPath({cx:this.angles[l].cx,cy:this.angles[l].cy,r:this.radius,start:this.angles[l].start,end:this.angles[l].end});if(e.donut){var h=e.donutWidth,u=r.SVG.TRIG.getArcPath3({cx:this.angles[l].cx,cy:this.angles[l].cy,r:this.radius-h,start:this.angles[l].end,end:this.angles[l].start,moveto:!1,anticlockwise:!0}),b=r.SVG.TRIG.getRadiusEndPoint({angle:this.angles[l].end-r.SVG.TRIG.HALFPI,r:this.radius-h});x=x+" L {1} {2} ".format(b[0]+this.angles[l].cx,b[1]+this.angles[l].cy)+u+" Z"}else x=x+" L {1} {2} ".format(this.angles[l].cx,this.angles[l].cy)+" Z";var y=r.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:x,fill:e.colors[l],stroke:e.colorsStroke,"stroke-width":e.linewidth,"data-tooltip":!r.SVG.isNull(e.tooltips)&&e.tooltips.length?e.tooltips[l]:"","data-index":l,"data-value":d,"data-start-angle":this.angles[l].start,"data-end-angle":this.angles[l].end,"data-radius":this.radius,filter:e.shadow&&t.shadow?"url(#dropShadow)":""}});this.angles[l].element=y,e.shadow&&t.shadow?this.shadowNodes[l]=y:this.nodes[l]=y,!e.tooltips||!e.tooltips[l]||t.shadow&&e.shadow||("mousemove"!==e.tooltipsEvent&&(e.tooltipsEvent="click"),function(t,a){y.addEventListener(e.tooltipsEvent,(function(i){var n=r.SVG.REG.get("tooltip");if(!n||"mousemove"!==e.tooltipsEvent||t!==n.__index__){a.removeHighlight(),r.SVG.tooltip({object:a,index:t,sequentialIndex:t,text:e.tooltips[t],event:i}),a.highlight(i.target);var s=r.SVG.REG.get("highlight");"mousemove"===e.tooltipsEvent&&(s.style.cursor="pointer")}}),!1),"click"===e.tooltipsEvent&&y.addEventListener("mousemove",(function(t){t.target.style.cursor="pointer"}),!1)}(l,this))}e.shadow&&t.shadow&&this.redrawSegments()},this.redrawSegments=function(){this.drawSegments({shadow:!1})},this.drawLabels=function(){for(var t=this.angles,e=this.properties,a=e.labels,i=0;i<t.length;++i){var n,s,o=r.SVG.TRIG.getRadiusEndPoint({angle:t[i].halfway-r.SVG.TRIG.HALFPI,r:t[i].radius+15}),l=o[0]+t[i].cx,g=o[1]+t[i].cy;t[i].halfway>0&&t[i].halfway<r.SVG.TRIG.HALFPI?(s="left",n="bottom"):t[i].halfway>r.SVG.TRIG.HALFPI&&t[i].halfway<r.SVG.TRIG.PI?(s="left",n="top"):t[i].halfway>r.SVG.TRIG.PI&&t[i].halfway<r.SVG.TRIG.HALFPI+r.SVG.TRIG.PI?(s="right",n="top"):t[i].halfway>r.SVG.TRIG.HALFPI+r.SVG.TRIG.PI&&t[i].halfway<r.SVG.TRIG.TWOPI&&(s="right",n="top"),r.SVG.text({object:this,parent:this.svg.all,tag:"labels",text:"string"==typeof a[i]?a[i]:"",x:l,y:g,valign:n,halign:s,font:e.labelsFont||e.textFont,size:"number"==typeof e.labelsSize?e.labelsSize:e.textSize,bold:"boolean"==typeof e.labelsBold?e.labelsBold:e.textBold,italic:"boolean"==typeof e.labelsItalic?e.labelsItalic:e.textItalic,color:e.labelsColor||e.textColor})}},this.drawIngraphLabels=function(){if(e.labelsIngraph)for(var t=0;t<this.angles.length;++t){var a=e.labelsIngraphHalign||"center",i=e.labelsIngraphValign||"center",n=e.labelsIngraphFont||e.textFont,s="number"==typeof e.labelsIngraphSize?e.labelsIngraphSize:e.textSize,o="boolean"==typeof e.labelsIngraphItalic?e.labelsIngraphItalic:e.textItalic,l="boolean"==typeof e.labelsIngraphBold?e.labelsIngraphBold:e.textBold,g=e.labelsIngraphColor||e.textColor,d=e.labelsIngraphBackground||"transparent",c=e.labelsIngraphDecimals||0,f="string"==typeof e.labelsIngraphBackground?3:0,p=r.SVG.TRIG.getRadiusEndPoint({angle:this.angles[t].halfway-r.SVG.TRIG.HALFPI,r:this.angles[t].radius*("number"==typeof e.labelsIngraphRadiusPos?e.labelsIngraphRadiusPos:.5)});if("object"==typeof e.labelsIngraphSpecific&&e.labelsIngraphSpecific)if("string"==typeof e.labelsIngraphSpecific[t])var x=e.labelsIngraphSpecific[t];else x="";else if("function"==typeof e.labelsIngraphFormatter)x=e.labelsIngraphFormatter({object:this,number:this.data[t].toFixed(c)});else x=r.SVG.numberFormat({prepend:e.labelsIngraphUnitsPre,append:e.labelsIngraphUnitsPost,point:e.labelsIngraphPoint,thousand:e.labelsIngraphThousand,num:this.data[t].toFixed(c),object:this});r.SVG.text({object:this,parent:this.svg.all,tag:"labels.ingraph",x:this.angles[t].cx+p[0],y:this.angles[t].cy+p[1],text:x,halign:a,valign:i,font:n,size:s,bold:l,italic:o,color:g,background:d,padding:f})}},this.drawLabelsSticks=function(){for(var t=[],a=[],i=[],s=0;s<this.angles.length;++s){var o=this.angles[s].start+(this.angles[s].end-this.angles[s].start)/2-RGraph.SVG.TRIG.HALFPI,l=r.SVG.TRIG.getRadiusEndPoint({angle:o,r:this.radius+5}),g=r.SVG.TRIG.getRadiusEndPoint({angle:o,r:this.radius+30}),d=["number"==typeof e.exploded?e.exploded:e.exploded[s],n.cos(o)*("number"==typeof e.exploded?e.exploded:e.exploded[s]),n.sin(o)*("number"==typeof e.exploded?e.exploded:e.exploded[s])];i[s]=[];var c,f,p,x={};if(o>r.SVG.TRIG.HALFPI)a[c=a.length]=[],a[c].text=e.labels[s],a[c].halign="right",x=a,i[s].halign="right";else t[c=t.length]=[],t[c].text=e.labels[s],t[c].halign="right",x=t,i[s].halign="left";if(l[0]+=d[1]||0,l[1]+=d[2]||0,g[0]+=d[1]||0,g[1]+=d[2]||0,x[c].text)var h=r.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:"M {1} {2} L {3} {4}".format(this.centerx+l[0],this.centery+l[1],this.centerx+g[0],this.centery+g[1]),stroke:"#999",fill:"rgba(0,0,0,0)"}});h&&(x[c].stick=h),f=this.centerx+g[0]+(o>1.57?-50:50),p=this.centery+g[1],i[s].x=f,i[s].y=p,i[s].text=e.labels[s]}var u=(this.height-e.marginTop-e.marginBottom)/t.length,b=(this.height-e.marginTop-e.marginBottom)/a.length;f=p=0;for(s=0;s<t.length;++s)if(t[s]&&t[s].text){f=this.centerx+this.radius+100,p=e.marginTop+u*s+u/2,RGraph.SVG.text({object:this,parent:this.svg.all,tag:"labels.sticks",text:"string"==typeof t[s].text?t[s].text:"",x:f,y:p,valign:"center",halign:t[s].text,font:e.labelsFont||e.textFont,size:"number"==typeof e.labelsSize?e.labelsSize:e.textSize,bold:"boolean"==typeof e.labelsBold?e.labelsBold:e.textBold,italic:"boolean"==typeof e.labelsItalic?e.labelsItalic:e.textItalic,color:e.labelsColor||e.textColor});var y=t[s].stick.getAttribute("d").replace(/ L /," Q ")+" {1} {2}";t[s].stick.setAttribute("d",y.format(f-5,p))}for(s=0;s<a.length;++s)if(a[s]&&a[s].text){f=this.centerx-this.radius-100,p=this.height-(e.marginTop+b*s+b/2),RGraph.SVG.text({object:this,parent:this.svg.all,tag:"labels.sticks",text:"string"==typeof a[s].text?a[s].text:"",x:f-7,y:p,valign:"center",halign:a[s].halign,font:e.labelsFont||e.textFont,size:"number"==typeof e.labelsSize?e.labelsSize:e.textSize,bold:"boolean"==typeof e.labelsBold?e.labelsBold:e.textBold,italic:"boolean"==typeof e.labelsItalic?e.labelsItalic:e.textItalic,color:e.labelsColor||e.textColor});y=a[s].stick.getAttribute("d").replace(/ L /," Q ")+" {1} {2}";a[s].stick.setAttribute("d",y.format(f-5,p))}},this.highlight=function(t){if("outline"===e.highlightStyle){var a=t.getAttribute("data-index"),i=RGraph.SVG.TRIG.getArcPath3({start:this.angles[a].start,end:this.angles[a].end,cx:this.angles[a].cx,cy:this.angles[a].cy,r:this.angles[a].radius+2,anticlockwise:!1,lineto:!1});i+=RGraph.SVG.TRIG.getArcPath3({start:this.angles[a].end,end:this.angles[a].start,cx:this.angles[a].cx,cy:this.angles[a].cy,r:this.angles[a].radius+2+e.highlightStyleOutlineWidth,anticlockwise:!0});var n=r.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:i,fill:e.colors[a],stroke:"transparent"},style:{pointerEvents:"none"}})}else n=r.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:t.getAttribute("d"),fill:e.highlightFill,stroke:e.highlightStroke,"stroke-width":e.highlightLinewidth},style:{pointerEvents:"none"}});"mousemove"===e.tooltipsEvent&&n.addEventListener("mouseout",(function(t){n.parentNode.removeChild(n),r.SVG.hideTooltip(),r.SVG.REG.set("highlight",null)}),!1),r.SVG.REG.set("highlight",n)},this.parseColors=function(){Object.keys(this.originalColors).length||(this.originalColors={colors:r.SVG.arrayClone(e.colors),highlightFill:r.SVG.arrayClone(e.highlightFill)});var t=e.colors;if(t)for(var a=0;a<t.length;++a)t[a]=r.SVG.parseColorRadial({object:this,color:t[a]});e.highlightFill=r.SVG.parseColorRadial({object:this,color:e.highlightFill})},this.roundRobin=function(){var t=this,e=arguments[0]||{},a=(r.SVG.arrayClone(this.data),this.properties),i=1,s=e.frames||30,o="function"==typeof e.callback?e.callback:function(){},l=(r.SVG.arraySum(this.data),a.textColor),g=a.labelsIngraph,d=0;a.textColor="rgba(0,0,0,0)",a.labelsIngraph=!1,t.draw();var c=r.SVG.arrayClone(this.angles);function f(){d=1/s*i++;for(var e=0;e<c.length;++e){t.data[e];t.angles[e].start=c[e].start*d,t.angles[e].end=c[e].end*d;var p=(t.angles[e].end-t.angles[e].start)/2,x=n.cos(t.angles[e].start+p-r.SVG.TRIG.HALFPI)*(a.exploded[e]||0),h=n.sin(t.angles[e].start+p-r.SVG.TRIG.HALFPI)*(a.exploded[e]||0),u=r.SVG.TRIG.getArcPath({cx:t.centerx+x,cy:t.centery+h,r:t.radius,start:t.angles[e].start,end:t.angles[e].end});if(a.donut){var b=a.donutWidth,y=r.SVG.TRIG.getArcPath3({cx:t.angles[e].cx,cy:t.angles[e].cy,r:t.radius-b,start:t.angles[e].end,end:t.angles[e].start,moveto:!1,anticlockwise:!0}),m=r.SVG.TRIG.getRadiusEndPoint({angle:t.angles[e].end-r.SVG.TRIG.HALFPI,r:t.radius-b});u=u+" L {1} {2} ".format(m[0]+t.angles[e].cx,m[1]+t.angles[e].cy)+y+" Z"}else u=u+" L {1} {2} ".format(t.angles[e].cx,t.angles[e].cy)+" Z";u+=" L {1} {2} Z".format(t.centerx+x,t.centery+h),t.shadowNodes&&t.shadowNodes[e]&&t.shadowNodes[e].setAttribute("d",u),t.nodes[e].setAttribute("d",u)}i<=s?r.SVG.FX.update(f):(a.textColor=l,a.labelsIngraph=g,r.SVG.redraw(t.svg),o(t))}return f(),this},this.on=function(t,e){return"on"!==t.substr(0,2)&&(t="on"+t),r.SVG.addCustomEventListener(this,t,e),this},this.exec=function(t){return t(this),this},this.removeHighlight=function(){var t=r.SVG.REG.get("highlight");t&&t.parentNode&&t.parentNode.removeChild(t),r.SVG.REG.set("highlight",null)},t.options)"string"==typeof i&&this.set(i,t.options[i])}}(window,document);