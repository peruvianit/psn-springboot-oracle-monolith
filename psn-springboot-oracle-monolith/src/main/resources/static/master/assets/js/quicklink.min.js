!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.quicklink=n()}(this,function(){var o={};function i(o){return new Promise(function(e,n){var t=new XMLHttpRequest;t.open("GET",o,t.withCredentials=!0),t.onload=function(){200===t.status?e():n()},t.send()})}var e,r=("prefetch",((e=document.createElement("link")).relList||{}).supports&&e.relList.supports("prefetch")?function(o){return new Promise(function(e,n){var t=document.createElement("link");t.rel="prefetch",t.href=o,t.onload=e,t.onerror=n,document.head.appendChild(t)})}:i);var n=n||function(e){var n=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-n))}})},1)},c=new Set,u=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var n=e.target.href;c.has(n)&&f(n)}})});function f(e){c["delete"](e),function(e,n,t){if(!(o[e]||(t=navigator.connection)&&((t.effectiveType||"").includes("2g")||t.saveData)))return(n?function(e){return null==self.fetch?i(e):fetch(e,{credentials:"include"})}:r)(e).then(function(){o[e]=!0})}(new URL(e,location.href).toString(),u.priority)}return function(e){e=Object.assign({timeout:2e3,priority:!1,timeoutFn:n,el:document},e),u.priority=e.priority;var t=e.origins||[location.hostname],o=e.ignores||[];e.timeoutFn(function(){e.urls?e.urls.forEach(f):Array.from(e.el.querySelectorAll("a"),function(e){u.observe(e),t.length&&!t.includes(e.hostname)||function n(t,e){return Array.isArray(e)?e.some(function(e){return n(t,e)}):(e.test||e).call(e,t.href,t)}(e,o)||c.add(e.href)})},{timeout:e.timeout})}});
