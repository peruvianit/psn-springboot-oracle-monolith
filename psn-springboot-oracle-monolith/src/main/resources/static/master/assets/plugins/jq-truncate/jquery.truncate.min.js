!function(t){t.fn.truncate=function(s){var e={maxLength:200,minTrail:20,textMoreView:!0,textMore:"[Leggi tutto]",textLess:"[Nascondi]",textClassDisplay:"",textEllipsis:" ...",displayOnCLose:"block",aniEffect:"show",aniMore:0,aniLess:0},i=t.extend(e,s);return this.each(function(){$this=t(this);var s=$this.html();if(s.length>i.maxLength+i.minTrail){e=s.indexOf(" ",i.maxLength);if(-1!=e){var e=s.indexOf(" ",i.maxLength),n=s.substring(0,e),a=s.substring(e,s.length-1);if($this.html(n+'<span class="truncate_ellipsis">'+i.textEllipsis+'</span><span class="truncate_more">'+a+"</span>"),$this.find(".truncate_more").css("display","none"),1==i.textMoreView){$this.append('&nbsp;<span class="truncate_more_container"><a href="javascript:void(0)" class="truncate_more_link">'+i.textMore+"</a></span>");var r=t(".truncate_more_link",$this),l=t(".truncate_more",$this),c=t(".truncate_ellipsis",$this),o=t(".truncate_more_container",$this);r.click(function(){return r.text()==i.textMore?("show"==i.aniEffect?l.show(i.aniMore):l.fadeIn(i.aniMore),r.text(i.textLess),l.css("display","inline"),o.css("display","block"),c.css("display","none")):("show"==i.aniEffect?l.hide(i.aniLess):l.fadeOut(i.aniLess),r.text(i.textMore),o.css("display",i.displayOnCLose),o.addClass(i.textClassDisplay),c.css("display","inline")),!1})}}}})}}(jQuery);