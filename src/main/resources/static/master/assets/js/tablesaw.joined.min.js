TablesawConfig={i18n:{modeStack:"Stack",modeSwipe:"Swipe",modeToggle:"Toggle",modeSwitchColumnsAbbreviated:"Cols",modeSwitchColumns:"Columns",columnToggleButton:"Columns",columnToggleError:"No eligible columns.",sort:"Ordina",swipePreviousColumn:"Previous column",swipeNextColumn:"Next column"}},function(t,a){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t.Tablesaw=a(e,t)}):"object"==typeof exports?module.exports=a("document"in t?require("jquery"):require("jquery")(t),t):t.Tablesaw=a(jQuery,t)}("undefined"!=typeof window?window:this,function(k,x){"use strict";var _=x.document,t=!1;_.addEventListener?_.addEventListener("DOMContentLoaded",function(){t=!0}):_.attachEvent("DOMContentLoaded",function(){t=!0});var e,s,n,a,i,o,l,r,c,p,d,h,u,S={i18n:{modeStack:"Stack",modeSwipe:"Swipe",modeToggle:"Toggle",modeSwitchColumnsAbbreviated:"Cols",modeSwitchColumns:"Columns",columnToggleButton:"Columns",columnToggleError:"No eligible columns.",sort:"Sort",swipePreviousColumn:"Previous column",swipeNextColumn:"Next column"},mustard:"head"in _&&(!x.blackberry||x.WebKitPoint)&&!x.operamini,$:k,_init:function(e){S.$(e||_).trigger("enhance.tablesaw")},init:function(e){t?S._init(e):"addEventListener"in _&&_.addEventListener("DOMContentLoaded",function(){S._init(e)})}};return k(_).on("enhance.tablesaw",function(){"undefined"!=typeof TablesawConfig&&TablesawConfig.i18n&&(S.i18n=k.extend(S.i18n,TablesawConfig.i18n||{})),S.i18n.modes=[S.i18n.modeStack,S.i18n.modeSwipe,S.i18n.modeToggle]}),S.mustard&&k(_.documentElement).addClass("tablesaw-enhanced"),function(){var t="tablesaw",a="tablesaw-bar",s={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh",resize:"tablesawresize"},n={};S.events=s;var i=function(e){if(!e)throw new Error("Tablesaw requires an element.");this.table=e,this.$table=k(e),this.$thead=this.$table.children().filter("thead").eq(0),this.$tbody=this.$table.children().filter("tbody"),this.mode=this.$table.attr("data-tablesaw-mode")||"stack",this.$toolbar=null,this.attributes={subrow:"data-tablesaw-subrow",ignorerow:"data-tablesaw-ignorerow"},this.init()};i.prototype.init=function(){if(!this.$thead.length)throw new Error("tablesaw: a <thead> is required, but none was found.");if(!this.$thead.find("th").length)throw new Error("tablesaw: no header cells found. Are you using <th> inside of <thead>?");this.$table.attr("id")||this.$table.attr("id",t+"-"+Math.round(1e4*Math.random())),this.createToolbar(),this._initCells(),this.$table.data(t,this),this.$table.trigger(s.create,[this])},i.prototype.getConfig=function(e){var t=k.extend(n,e||{});return k.extend(t,"undefined"!=typeof TablesawConfig?TablesawConfig:{})},i.prototype._getPrimaryHeaderRow=function(){return this._getHeaderRows().eq(0)},i.prototype._getHeaderRows=function(){return this.$thead.children().filter("tr").filter(function(){return!k(this).is("[data-tablesaw-ignorerow]")})},i.prototype._getRowIndex=function(e){return e.prevAll().length},i.prototype._getHeaderRowIndeces=function(){var e=this,t=[];return this._getHeaderRows().each(function(){t.push(e._getRowIndex(k(this)))}),t},i.prototype._getPrimaryHeaderCells=function(e){return(e||this._getPrimaryHeaderRow()).find("th")},i.prototype._$getCells=function(e){var s=this;return k(e).add(e.cells).filter(function(){var e=k(this),t=e.parent(),a=e.is("[colspan]");return!(t.is("["+s.attributes.subrow+"]")||t.is("["+s.attributes.ignorerow+"]")&&a)})},i.prototype._getVisibleColspan=function(){var t=0;return this._getPrimaryHeaderCells().each(function(){var e=k(this);"none"!==e.css("display")&&(t+=parseInt(e.attr("colspan"),10)||1)}),t},i.prototype.getColspanForCell=function(e){var t=this._getVisibleColspan(),a=0;return e.closest("tr").data("tablesaw-rowspanned")&&a++,e.siblings().each(function(){var e=k(this),t=parseInt(e.attr("colspan"),10)||1;"none"!==e.css("display")&&(a+=t)}),t-a},i.prototype.isCellInColumn=function(e,t){return k(e).add(e.cells).filter(function(){return this===t}).length},i.prototype.updateColspanCells=function(s,n,i){var o=this,e=o._getPrimaryHeaderRow();this.$table.find("[rowspan][data-tablesaw-priority]").each(function(){var e=k(this);if("persist"===e.attr("data-tablesaw-priority")){var t=e.closest("tr"),a=parseInt(e.attr("rowspan"),10);1<a&&(t=t.next(),t.data("tablesaw-rowspanned",!0),a--)}}),this.$table.find("[colspan],[data-tablesaw-maxcolspan]").filter(function(){return k(this).closest("tr")[0]!==e[0]}).each(function(){var e=k(this);if(i===undefined||o.isCellInColumn(n,this)){var t=o.getColspanForCell(e);s&&i!==undefined&&e[0===t?"addClass":"removeClass"](s);var a=parseInt(e.attr("data-tablesaw-maxcolspan"),10);a?a<t&&(t=a):e.attr("data-tablesaw-maxcolspan",e.attr("colspan")),e.attr("colspan",t)}})},i.prototype._findPrimaryHeadersForCell=function(e){for(var t=this._getPrimaryHeaderRow(),a=this._getPrimaryHeaderCells(t),s=this._getRowIndex(t),n=[],i=0;i<this.headerMapping.length;i++)if(i!==s)for(var o=0;o<this.headerMapping[i].length;o++)this.headerMapping[i][o]===e&&n.push(a[o]);return n},i.prototype.getRows=function(){var e=this;return this.$table.find("tr").filter(function(){return k(this).closest("table").is(e.$table)})},i.prototype.getBodyRows=function(e){return(e?k(e):this.$tbody).children().filter("tr")},i.prototype.getHeaderCellIndex=function(e){for(var t=this.headerMapping[0],a=0;a<t.length;a++)if(t[a]===e)return a;return-1},i.prototype._initCells=function(){this.$table.find("[data-tablesaw-maxcolspan]").each(function(){var e=k(this);e.attr("colspan",e.attr("data-tablesaw-maxcolspan"))});var e=this.getRows(),o=[];e.each(function(e){o[e]=[]}),e.each(function(n){var i=0,e=k(this),t=e.children();t.each(function(){for(var e=parseInt(this.getAttribute("data-tablesaw-maxcolspan")||this.getAttribute("colspan"),10),t=parseInt(this.getAttribute("rowspan"),10);o[n][i];)i++;if(o[n][i]=this,e)for(var a=0;a<e-1;a++)i++,o[n][i]=this;if(t)for(var s=1;s<t;s++)o[n+s][i]=this;i++})});for(var t=this._getHeaderRowIndeces(),a=0;a<o[0].length;a++)for(var s=0,n=t.length;s<n;s++){var i,l=o[t[s]][a],r=t[s];for(l.cells||(l.cells=[]);r<o.length;)i=o[r][a],l!==i&&l.cells.push(i),r++}this.headerMapping=o},i.prototype.refresh=function(){this._initCells(),this.$table.trigger(s.refresh,[this])},i.prototype._getToolbarAnchor=function(){var e=this.$table.parent();return e.is(".tablesaw-overflow")?e:this.$table},i.prototype._getToolbar=function(e){return e||(e=this._getToolbarAnchor()),e.prev().filter("."+a)},i.prototype.createToolbar=function(){var e=this._getToolbarAnchor(),t=this._getToolbar(e);t.length||(t=k("<div>").addClass(a).insertBefore(e)),this.$toolbar=t,this.mode&&this.$toolbar.addClass("tablesaw-mode-"+this.mode)},i.prototype.destroy=function(){this._getToolbar().each(function(){this.className=this.className.replace(/\btablesaw-mode\-\w*\b/gi,"")});var e=this.$table.attr("id");k(_).off("."+e),k(x).off("."+e),this.$table.trigger(s.destroy,[this]),this.$table.removeData(t)},k.fn[t]=function(){return this.each(function(){var e=k(this);e.data(t)||new i(this)})};var e=k(_);e.on("enhance.tablesaw",function(e){S.mustard&&k(e.target).find("table").filter("[data-tablesaw],[data-tablesaw-mode],[data-tablesaw-sortable]")[t]()});var o,l,r=!1;e.on("scroll.tablesaw",function(){r=!0,x.clearTimeout(o),o=x.setTimeout(function(){r=!1},300)}),k(x).on("resize",function(){r||(x.clearTimeout(l),l=x.setTimeout(function(){e.trigger(s.resize)},150))}),S.Table=i}(),e="tablesaw-stack",s="tablesaw-cell-label",n="tablesaw-cell-content",a="tablesaw-stack",i="data-tablesaw-no-labels",o="data-tablesaw-hide-empty",l=function(e,t){this.tablesaw=t,this.$table=k(e),this.labelless=this.$table.is("["+i+"]"),this.hideempty=this.$table.is("["+o+"]"),this.$table.data(a,this)},l.prototype.init=function(){if(this.$table.addClass(e),!this.labelless){var a=this;this.$table.find("th, td").filter(function(){return!k(this).closest("thead").length}).filter(function(){return!(k(this).closest("tr").is("["+i+"]")||a.hideempty&&!k(this).html())}).each(function(){var o=k(_.createElement("b")).addClass(s),e=k(this);k(a.tablesaw._findPrimaryHeadersForCell(this)).each(function(e){var t=k(this.cloneNode(!0)),a=t.find(".tablesaw-sortable-btn");t.find(".tablesaw-sortable-arrow").remove();var s=t.find("[data-tablesaw-checkall]");if(s.closest("label").remove(),s.length)return o=k([]),void 0;0<e&&o.append(_.createTextNode(", "));for(var n,i=a.length?a[0]:t[0];n=i.firstChild;)o[0].appendChild(n)}),o.length&&!e.find("."+n).length&&e.wrapInner("<span class='"+n+"'></span>");var t=e.find("."+s);t.length?t.replaceWith(o):e.prepend(o)})}},l.prototype.destroy=function(){this.$table.removeClass(e),this.$table.find("."+s).remove(),this.$table.find("."+n).each(function(){k(this).replaceWith(this.childNodes)})},k(_).on(S.events.create,function(e,t){if("stack"===t.mode){var a=new l(t.table,t);a.init()}}).on(S.events.refresh,function(e,t){"stack"===t.mode&&k(t.table).data(a).init()}).on(S.events.destroy,function(e,t){"stack"===t.mode&&k(t.table).data(a).destroy()}),S.Stack=l,r="tablesawbtn",c={_create:function(){return k(this).each(function(){k(this).trigger("beforecreate."+r)[r]("_init").trigger("create."+r)})},_init:function(){var e=k(this),t=this.getElementsByTagName("select")[0];return t&&k(this).addClass("btn-select tablesaw-btn-select")[r]("_select",t),e},_select:function(e){var t=function(e,t){var a,s,n=k(t).find("option"),i=_.createElement("span"),o=!1;if(i.setAttribute("aria-hidden","true"),i.innerHTML="&#160;",n.each(function(){this.selected&&(i.innerHTML=this.text)}),s=e.childNodes,0<n.length){for(var l=0,r=s.length;l<r;l++)a=s[l],a&&"SPAN"===a.nodeName.toUpperCase()&&(e.replaceChild(i,a),o=!0);o||e.insertBefore(i,e.firstChild)}};t(this,e),k(this).on("change refresh",function(){t(this,e)})}},k.fn[r]=function(e,t,a,s){return this.each(function(){return e&&"string"==typeof e?k.fn[r].prototype[e].call(this,t,a,s):k(this).data(r+"active")?k(this):(k(this).data(r+"active",!0),k.fn[r].prototype._create.call(this),void 0)})},k.extend(k.fn[r].prototype,c),p="tablesaw-coltoggle",d=function(e){this.$table=k(e),this.$table.length&&(this.tablesaw=this.$table.data("tablesaw"),this.attributes={btnTarget:"data-tablesaw-columntoggle-btn-target",set:"data-tablesaw-columntoggle-set"},this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-"},this.set=[],this.$headers=this.tablesaw._getPrimaryHeaderCells(),this.$table.data(p,this))},d.prototype.initSet=function(){var e=this.$table.attr(this.attributes.set);if(e){var t=this.$table[0];this.set=k("table["+this.attributes.set+"='"+e+"']").filter(function(){return this!==t}).get()}},d.prototype.init=function(){if(this.$table.length){var t,e,a,s,n,i,o=this,l=this.tablesaw.getConfig({getColumnToggleLabelTemplate:function(e){return"<label><input type='checkbox' checked>"+e+"</label>"}});this.$table.addClass(this.classes.columnToggleTable),t=this.$table.attr("id"),e=t+"-popup",i=k("<div class='"+this.classes.columnBtnContain+"'></div>"),a=k("<a href='#"+e+"' class='btn tablesaw-btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+S.i18n.columnToggleButton+"</span></a>"),s=k("<div class='"+this.classes.popup+"' id='"+e+"'></div>"),n=k("<div class='btn-group'></div>"),this.$popup=s;var r=!1;this.$headers.each(function(){var e=k(this),t=e.attr("data-tablesaw-priority"),a=o.tablesaw._$getCells(this);t&&"persist"!==t&&(a.addClass(o.classes.priorityPrefix+t),k(l.getColumnToggleLabelTemplate(e.text())).appendTo(n).find('input[type="checkbox"]').data("tablesaw-header",this),r=!0)}),r||n.append("<label>"+S.i18n.columnToggleError+"</label>"),n.appendTo(s),n.find('input[type="checkbox"]').on("change",function(t){var a;b(t.target),o.set.length&&(k(o.$popup).find("input[type='checkbox']").each(function(e){if(this===t.target)return a=e,!1}),k(o.set).each(function(){var e=k(this).data(p).$popup.find("input[type='checkbox']").get(a);e&&(e.checked=t.target.checked,b(e))}))}),a.appendTo(i);var c,d=k(this.$table.attr(this.attributes.btnTarget));i.appendTo(d.length?d:this.tablesaw.$toolbar),a.on("click.tablesaw",function(e){e.preventDefault(),i.is(".visible")?f():(i.addClass("visible"),a.removeClass("down").addClass("up"),k(_).off("click."+t,f),x.clearTimeout(c),c=x.setTimeout(function(){k(_).on("click."+t,f)},15))}),s.appendTo(i),this.$menu=n;var h,u=this.$table.closest(".tablesaw-overflow");u.css("-webkit-overflow-scrolling")&&u.on("scroll",function(){var e=k(this);x.clearTimeout(h),h=x.setTimeout(function(){e.css("-webkit-overflow-scrolling","auto"),x.setTimeout(function(){e.css("-webkit-overflow-scrolling","touch")},0)},100)}),k(x).on(S.events.resize+"."+t,function(){o.refreshToggle()}),this.initSet(),this.refreshToggle()}function b(e){var t=e.checked,a=o.getHeaderFromCheckbox(e),s=o.tablesaw._$getCells(a);s[t?"removeClass":"addClass"]("tablesaw-toggle-cellhidden"),s[t?"addClass":"removeClass"]("tablesaw-toggle-cellvisible"),o.updateColspanCells(a,t),o.$table.trigger("tablesawcolumns")}function f(e){e&&k(e.target).closest("."+o.classes.popup).length||(k(_).off("click."+t),a.removeClass("up").addClass("down"),i.removeClass("visible"))}},d.prototype.getHeaderFromCheckbox=function(e){return k(e).data("tablesaw-header")},d.prototype.refreshToggle=function(){var t=this;this.$menu.find("input").each(function(){var e=t.getHeaderFromCheckbox(this);this.checked="table-cell"===t.tablesaw._$getCells(e).eq(0).css("display")}),this.updateColspanCells()},d.prototype.updateColspanCells=function(e,t){this.tablesaw.updateColspanCells("tablesaw-toggle-cellhidden",e,t)},d.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){var e=k(this);e.removeClass("tablesaw-toggle-cellhidden").removeClass("tablesaw-toggle-cellvisible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},k(_).on(S.events.create,function(e,t){if("columntoggle"===t.mode){var a=new d(t.table);a.init()}}),k(_).on(S.events.destroy,function(e,t){"columntoggle"===t.mode&&k(t.table).data(p).destroy()}),k(_).on(S.events.refresh,function(e,t){"columntoggle"===t.mode&&k(t.table).data(p).refreshPriority()}),S.ColumnToggle=d,function(){function g(e){var t=[];return k(e.childNodes).each(function(){var e=k(this);e.is("input, select")?t.push(e.val()):e.is(".tablesaw-cell-label")||t.push((e.text()||"").replace(/^\s+|\s+$/g,""))}),t.join("")}var h="tablesaw-sortable",a="table[data-"+h+"]",l="[data-"+h+"-switch]",w={sortCol:"data-tablesaw-sortable-col",defaultCol:"data-tablesaw-sortable-default-col",numericCol:"data-tablesaw-sortable-numeric",subRow:"data-tablesaw-subrow",ignoreRow:"data-tablesaw-ignorerow"},d={head:h+"-head",ascend:h+"-ascending",descend:h+"-descending",switcher:h+"-switch",tableToolbar:"tablesaw-bar-section",sortButton:h+"-btn"},e={_create:function(t){return k(this).each(function(){var e=k(this).data(h+"-init");if(e)return!1;k(this).data(h+"-init",!0).trigger("beforecreate."+h)[h]("_init",t).trigger("create."+h)})},_init:function(){var n,i,e,t,s,a,o=k(this),r=o.data("tablesaw");function c(e){k.each(e,function(e,t){var a=k(t);a.removeAttr(w.defaultCol),a.removeClass(d.ascend),a.removeClass(d.descend)})}o.addClass(h),n=o.children().filter("thead").find("th["+w.sortCol+"]"),e=n,k.each(e,function(e,t){k(t).addClass(d.head)}),t=n,s=function(e){if(!k(e.target).is("a[href]")){e.stopPropagation();var t=k(e.target).closest("["+w.sortCol+"]"),a=e.data.col,s=n.index(t[0]);c(t.closest("thead").find("th").filter(function(){return this!==t[0]})),t.is("."+d.descend)||!t.is("."+d.ascend)?(o[h]("sortBy",a,!0),s+="_asc"):(o[h]("sortBy",a),s+="_desc"),i&&i.find("select").val(s).trigger("refresh"),e.preventDefault()}},k.each(t,function(e,t){var a=k("<button class='"+d.sortButton+"'/>");a.on("click",{col:t},s),k(t).wrapInner(a).find("button").append("<span class='tablesaw-sortable-arrow'>")}),a=n,k.each(a,function(e,t){var a=k(t);a.is("["+w.defaultCol+"]")&&(a.is("."+d.descend)||a.addClass(d.ascend))}),o.is(l)&&function(a){i=k("<div>").addClass(d.switcher).addClass(d.tableToolbar);var l=["<label>"+S.i18n.sort+":"];l.push('<span class="btn tablesaw-btn"><select>'),a.each(function(e){var t=k(this),a=t.is("["+w.defaultCol+"]"),s=t.is("."+d.descend),n=t.is("["+w.numericCol+"]"),i=0;k(this.cells.slice(0,5)).each(function(){isNaN(parseInt(g(this),10))||i++});var o=5===i;n||t.attr(w.numericCol,o?"":"false"),l.push("<option"+(a&&!s?" selected":"")+' value="'+e+'_asc">'+t.text()+" "+(o?"&#x2191;":"(A-Z)")+"</option>"),l.push("<option"+(a&&s?" selected":"")+' value="'+e+'_desc">'+t.text()+" "+(o?"&#x2193;":"(Z-A)")+"</option>")}),l.push("</select></span></label>"),i.html(l.join(""));var e=r.$toolbar.children().eq(0);e.length?i.insertBefore(e):i.appendTo(r.$toolbar),i.find(".tablesaw-btn").tablesawbtn(),i.find("select").on("change",function(){var e=k(this).val().split("_"),t=a.eq(e[0]);c(t.siblings()),o[h]("sortBy",t.get(0),"asc"===e[1])})}(n)},sortRows:function(e,t,a,s,n){var i,o,l,r,c,d,h,u,b,f=(l=s.cells,r=n,c=[],k.each(l,function(e,t){for(var a=t.parentNode,s=k(a),n=[],i=s.next();i.is("["+w.subRow+"]");)n.push(i[0]),i=i.next();var o=a.parentNode;s.is("["+w.subRow+"]")||o===r&&c.push({element:t,cell:g(t),row:a,subrows:n.length?n:null,ignored:s.is("["+w.ignoreRow+"]")})}),c),p=k(s).data("tablesaw-sort");return i=!(!p||"function"!=typeof p)&&p(a)||(d=a,h=k(s).is("["+w.numericCol+"]")&&!k(s).is("["+w.numericCol+'="false"]'),b=/[^\-\+\d\.]/g,u=d?function(e,t){return e.ignored||t.ignored?0:h?parseFloat(e.cell.replace(b,""))-parseFloat(t.cell.replace(b,"")):e.cell.toLowerCase()>t.cell.toLowerCase()?1:-1}:function(e,t){return e.ignored||t.ignored?0:h?parseFloat(t.cell.replace(b,""))-parseFloat(e.cell.replace(b,"")):e.cell.toLowerCase()<t.cell.toLowerCase()?1:-1},u),o=f.sort(i),e=function(e){var t,a,s=[];for(t=0,a=e.length;t<a;t++)s.push(e[t].row),e[t].subrows&&s.push(e[t].subrows);return s}(o),e},makeColDefault:function(e,t){var a=k(e);a.attr(w.defaultCol,"true"),t?(a.removeClass(d.descend),a.addClass(d.ascend)):(a.removeClass(d.ascend),a.addClass(d.descend))},sortBy:function(o,l){var r,c=k(this),d=c.data("tablesaw");d.$tbody.each(function(){var e,t,a,s=k(this),n=d.getBodyRows(this),i=d.headerMapping[0];for(t=0,a=i.length;t<a;t++)if(i[t]===o){r=t;break}for(e=c[h]("sortRows",n,r,l,o,this),t=0,a=e.length;t<a;t++)s.append(e[t])}),c[h]("makeColDefault",o,l),c.trigger("tablesaw-sorted")}};k.fn[h]=function(e){var t,a=Array.prototype.slice.call(arguments,1);return e&&"string"==typeof e?(t=k.fn[h].prototype[e].apply(this[0],a),void 0!==t?t:k(this)):(k(this).data(h+"-active")||(k(this).data(h+"-active",!0),k.fn[h].prototype._create.call(this,e)),k(this))},k.extend(k.fn[h].prototype,e),k(_).on(S.events.create,function(e,t){t.$table.is(a)&&t.$table[h]()})}(),function(){var $={hideBtn:"disabled",persistWidths:"tablesaw-fix-persist",hiddenCol:"tablesaw-swipe-cellhidden",persistCol:"tablesaw-swipe-cellpersist",allColumnsVisible:"tablesaw-all-cols-visible"},T={disableTouchEvents:"data-tablesaw-no-touch",ignorerow:"data-tablesaw-ignorerow",subrow:"data-tablesaw-subrow"};function a(d,r){var c=r.data("tablesaw"),e=k("<div class='tablesaw-advance'></div>"),a=k("<a href='#' class='btn tablesaw-nav-btn tablesaw-btn btn-micro left'>"+S.i18n.swipePreviousColumn+"</a>").appendTo(e),s=k("<a href='#' class='btn tablesaw-nav-btn tablesaw-btn btn-micro right'>"+S.i18n.swipeNextColumn+"</a>").appendTo(e),h=d._getPrimaryHeaderCells(),i=h.not('[data-tablesaw-priority="persist"]'),u=[],l=k(_.head||"head"),b=r.attr("id");if(!h.length)throw new Error("tablesaw swipe: no header cells found.");function t(){r.css({width:"1px"}),r.find("."+$.hiddenCol).removeClass($.hiddenCol),u=[],h.each(function(){u.push(this.offsetWidth)}),r.css({width:""})}function f(e){c._$getCells(e).removeClass($.hiddenCol)}function p(e){c._$getCells(e).addClass($.hiddenCol)}function g(){r.removeClass($.persistWidths),k("#"+b+"-persist").remove()}function n(){var e,s="#"+b+".tablesaw-swipe ",n=[],i=r.width(),o=[];if(h.each(function(e){var t,a;a=this,k(a).is('[data-tablesaw-priority="persist"]')&&(t=this.offsetWidth,t<.75*i&&(o.push(e+"-"+t),n.push(s+" ."+$.persistCol+":nth-child("+(e+1)+") { width: "+t+"px; }")))}),e=o.join("_"),n.length){r.addClass($.persistWidths);var t=k("#"+b+"-persist");t.length&&t.data("tablesaw-hash")===e||(t.remove(),k("<style>"+n.join("\n")+"</style>").attr("id",b+"-persist").data("tablesaw-hash",e).appendTo(l))}}function o(){var s,n=[];return i.each(function(e){var t=k(this),a="none"===t.css("display")||t.is("."+$.hiddenCol);if(a||s){if(a&&s)return n[1]=e,!1}else s=!0,n[0]=e}),n}function w(){var e=o();return[e[1]-1,e[0]-1]}function v(e){return-1<e[1]&&e[1]<i.length}function m(){if(e=r.attr("data-tablesaw-swipe-media"),!e||"matchMedia"in x&&x.matchMedia(e).matches){var e,s=r.parent().width(),n=[],i=0,o=[],l=h.length;h.each(function(e){var t=k(this),a=t.is('[data-tablesaw-priority="persist"]');n.push(a),i+=u[e],o.push(i),(a||s<i)&&l--});var a=0===l;h.each(function(e){o[e]>s&&p(this)}),h.each(function(e){if(n[e])return t=this,void c._$getCells(t).addClass($.persistCol),void 0;var t;(o[e]<=s||a)&&(a=!1,f(this),c.updateColspanCells($.hiddenCol,this,!0))}),g(),r.trigger("tablesawcolumns")}}function C(e){var t,a=(t=e,t?o():w());v(a)&&(isNaN(a[0])&&(a[0]=e?0:i.length-1),n(),p(i.get(a[0])),c.updateColspanCells($.hiddenCol,i.get(a[0]),!1),f(i.get(a[1])),c.updateColspanCells($.hiddenCol,i.get(a[1]),!0),r.trigger("tablesawcolumns"))}function y(e,t){return(e.touches||e.originalEvent.touches)[0][t]}r.addClass("tablesaw-swipe"),t(),e.appendTo(c.$toolbar),b||(b="tableswipe-"+Math.round(1e4*Math.random()),r.attr("id",b)),a.add(s).on("click",function(e){C(!!k(e.target).closest(s).length),e.preventDefault()}),r.is("["+T.disableTouchEvents+"]")||r.on("touchstart.swipetoggle",function(e){var i,o,l=y(e,"pageX"),r=y(e,"pageY"),c=x.pageYOffset;k(x).off(S.events.resize,m),k(this).on("touchmove.swipetoggle",function(e){i=y(e,"pageX"),o=y(e,"pageY")}).on("touchend.swipetoggle",function(){var e=d.getConfig({swipeHorizontalThreshold:30,swipeVerticalThreshold:30}),t=e.swipe?e.swipe.verticalThreshold:e.swipeVerticalThreshold,a=e.swipe?e.swipe.horizontalThreshold:e.swipeHorizontalThreshold,s=Math.abs(x.pageYOffset-c)>=t,n=Math.abs(o-r)>=t;n||s||(i-l<-1*a&&C(!0),a<i-l&&C(!1)),x.setTimeout(function(){k(x).on(S.events.resize,m)},300),k(this).off("touchmove.swipetoggle touchend.swipetoggle")})}),r.on("tablesawcolumns.swipetoggle",function(){var e=v(w()),t=v(o());a[e?"removeClass":"addClass"]($.hideBtn),s[t?"removeClass":"addClass"]($.hideBtn),c.$toolbar[e||t?"removeClass":"addClass"]($.allColumnsVisible)}).on("tablesawnext.swipetoggle",function(){C(!0)}).on("tablesawprev.swipetoggle",function(){C(!1)}).on(S.events.destroy+".swipetoggle",function(){var e=k(this);e.removeClass("tablesaw-swipe"),c.$toolbar.find(".tablesaw-advance").remove(),k(x).off(S.events.resize,m),e.off(".swipetoggle")}).on(S.events.refresh,function(){g(),t(),m()}),m(),k(x).on(S.events.resize,m)}k(_).on(S.events.create,function(e,t){"swipe"===t.mode&&a(t,t.$table)})}(),h={attr:{init:"data-tablesaw-minimap"},show:function(e){var t=e.getAttribute(h.attr.init);return""===t||!!(t&&"matchMedia"in x)&&x.matchMedia(t).matches}},k(_).on(S.events.create,function(e,t){"swipe"!==t.mode&&"columntoggle"!==t.mode||!t.$table.is("[ "+h.attr.init+"]")||!function(e){var t=e.data("tablesaw"),a=k('<div class="tablesaw-advance minimap">'),s=k('<ul class="tablesaw-advance-dots">').appendTo(a),n="tablesaw-advance-dots-hide",i=e.data("tablesaw")._getPrimaryHeaderCells();function o(){if(!h.show(e[0]))return a.css("display","none"),void 0;a.css("display","block");var t=s.find("li").removeClass(n);e.find("thead th").each(function(e){"none"===k(this).css("display")&&t.eq(e).addClass(n)})}i.each(function(){s.append("<li><i></i></li>")}),a.appendTo(t.$toolbar),o(),k(x).on(S.events.resize,o),e.on("tablesawcolumns.minimap",function(){o()}).on(S.events.destroy+".minimap",function(){var e=k(this);t.$toolbar.find(".tablesaw-advance").remove(),k(x).off(S.events.resize,o),e.off(".minimap")})}(t.$table)}),S.MiniMap=h,u={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-bar-section"},modes:["stack","swipe","columntoggle"],init:function(t){var e,a=k(t),s=a.data("tablesaw"),n=a.attr(u.attributes.excludeMode),i=s.$toolbar,o=k("<div>").addClass(u.classes.main+" "+u.classes.toolbar),l=['<label><span class="abbreviated">'+S.i18n.modeSwitchColumnsAbbreviated+'</span><span class="longform">'+S.i18n.modeSwitchColumns+"</span>:"],r=a.attr("data-tablesaw-mode");l.push('<span class="btn tablesaw-btn"><select>');for(var c=0,d=u.modes.length;c<d;c++)n&&n.toLowerCase()===u.modes[c]||(e=r===u.modes[c],l.push("<option"+(e?" selected":"")+' value="'+u.modes[c]+'">'+S.i18n.modes[c]+"</option>"));l.push("</select></span></label>"),o.html(l.join(""));var h=i.find(".tablesaw-advance").eq(0);h.length?o.insertBefore(h):o.appendTo(i),o.find(".tablesaw-btn").tablesawbtn(),o.find("select").on("change",function(e){return u.onModeChange.call(t,e,k(this).val())})},onModeChange:function(e,t){var a=k(this),s=a.data("tablesaw"),n=s.$toolbar.find("."+u.classes.main);n.remove(),s.destroy(),a.attr("data-tablesaw-mode",t),a.tablesaw()}},k(_).on(S.events.create,function(e,t){t.$table.is(u.selectors.init)&&u.init(t.table)}),function(){var i="tablesawCheckAll";function a(e){this.tablesaw=e,this.$table=e.$table,this.attr="data-tablesaw-checkall",this.checkAllSelector="["+this.attr+"]",this.forceCheckedSelector="["+this.attr+"-checked]",this.forceUncheckedSelector="["+this.attr+"-unchecked]",this.checkboxSelector='input[type="checkbox"]',this.$triggers=null,this.$checkboxes=null,this.$table.data(i)||(this.$table.data(i,this),this.init())}a.prototype._filterCells=function(e){return e.filter(function(){return!k(this).closest("tr").is("[data-tablesaw-subrow],[data-tablesaw-ignorerow]")}).find(this.checkboxSelector).not(this.checkAllSelector)},a.prototype.getCheckboxesForButton=function(e){return this._filterCells(k(k(e).attr(this.attr)))},a.prototype.getCheckboxesForCheckbox=function(e){return this._filterCells(k(k(e).closest("th")[0].cells))},a.prototype.init=function(){var t=this;this.$table.find(this.checkAllSelector).each(function(){var e=k(this);e.is(t.checkboxSelector)?t.addCheckboxEvents(this):t.addButtonEvents(this)})},a.prototype.addButtonEvents=function(e){var n=this;k(e).on("click",function(e){e.preventDefault();var t,a=n.getCheckboxesForButton(this),s=!0;a.each(function(){this.checked||(s=!1)}),t=!!k(this).is(n.forceCheckedSelector)||!k(this).is(n.forceUncheckedSelector)&&!s,a.each(function(){this.checked=t,k(this).trigger("change."+i)})})},a.prototype.addCheckboxEvents=function(a){var t=this;k(a).on("change",function(){var e=this.checked;t.getCheckboxesForCheckbox(this).each(function(){this.checked=e})});var s=t.getCheckboxesForCheckbox(a);s.on("change."+i,function(){var e=0;s.each(function(){this.checked&&e++});var t=e===s.length;a.checked=t,a.indeterminate=0!==e&&!t})},k(_).on(S.events.create,function(e,t){new a(t)}),S.CheckAll=a}(),S}),function(a){"use strict";a.fn.tablesawcallback=function(){a.fn.dynZebraRow()},a.fn.dynZebraRow=function(){a(opt.eSortableBtn+", "+opt.eSortableSelect+" select").on("click change",function(e){if("change"==e.type)var t=a(this).parents().eq(3).next("table").attr("id");if("click"==e.type&&!a(opt.eSortableSelect+" select").is(":visible"))t=a(this).closest("table").attr("id");a("#"+t+" > tbody > tr").removeClass("even"),a("#"+t+" > tbody > tr:odd").addClass("even")})},a("th[data-custom-sortable-date]").data("tablesaw-sort",function(r){return function(e,t){if(e.ignored||t.ignored)return 0;var a=e.cell.split("/"),s=t.cell.split("/"),n=a[2]+"-"+a[1]+"-"+a[0],i=new Date(n).getTime()/1e3,o=s[2]+"-"+s[1]+"-"+s[0],l=new Date(o).getTime()/1e3;return r?parseInt(i)-parseInt(l):parseInt(l)-parseInt(i)}})}(jQuery);